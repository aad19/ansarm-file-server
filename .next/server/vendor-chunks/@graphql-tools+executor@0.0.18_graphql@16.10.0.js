"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@graphql-tools+executor@0.0.18_graphql@16.10.0";
exports.ids = ["vendor-chunks/@graphql-tools+executor@0.0.18_graphql@16.10.0"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/execute.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/execute.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertValidExecutionArguments: () => (/* binding */ assertValidExecutionArguments),\n/* harmony export */   buildExecutionContext: () => (/* binding */ buildExecutionContext),\n/* harmony export */   buildResolveInfo: () => (/* binding */ buildResolveInfo),\n/* harmony export */   defaultFieldResolver: () => (/* binding */ defaultFieldResolver),\n/* harmony export */   defaultTypeResolver: () => (/* binding */ defaultTypeResolver),\n/* harmony export */   execute: () => (/* binding */ execute),\n/* harmony export */   executeSync: () => (/* binding */ executeSync),\n/* harmony export */   flattenIncrementalResults: () => (/* binding */ flattenIncrementalResults),\n/* harmony export */   getFieldDef: () => (/* binding */ getFieldDef),\n/* harmony export */   isIncrementalResult: () => (/* binding */ isIncrementalResult),\n/* harmony export */   subscribe: () => (/* binding */ subscribe)\n/* harmony export */ });\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/type/validate.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/language/kinds.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/error/locatedError.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/type/definition.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/execution/values.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/type/introspection.mjs\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/memoize.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/collectFields.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/jsutils.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/errors.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/rootTypes.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/Path.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/getArgumentValues.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/inspect.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/directives.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/isAsyncIterable.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/mapAsyncIterator.js\");\n/* harmony import */ var _values_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./values.js */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/values.js\");\n/* harmony import */ var _promiseForObject_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./promiseForObject.js */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/promiseForObject.js\");\n/* harmony import */ var _flattenAsyncIterable_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./flattenAsyncIterable.js */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/flattenAsyncIterable.js\");\n/* harmony import */ var _invariant_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./invariant.js */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/invariant.js\");\n/* harmony import */ var value_or_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! value-or-promise */ \"(rsc)/./node_modules/.pnpm/value-or-promise@1.0.12/node_modules/value-or-promise/build/module/index.js\");\n\n\n\n\n\n\n\n/**\n * A memoized collection of relevant subfields with regard to the return\n * type. Memoizing ensures the subfields are not repeatedly calculated, which\n * saves overhead when resolving lists of values.\n */\nconst collectSubfields = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_1__.memoize3)((exeContext, returnType, fieldNodes) => (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_2__.collectSubFields)(exeContext.schema, exeContext.fragments, exeContext.variableValues, returnType, fieldNodes));\n/**\n * Implements the \"Executing requests\" section of the GraphQL specification,\n * including `@defer` and `@stream` as proposed in\n * https://github.com/graphql/graphql-spec/pull/742\n *\n * This function returns a Promise of an IncrementalExecutionResults\n * object. This object either consists of a single ExecutionResult, or an\n * object containing an `initialResult` and a stream of `subsequentResults`.\n *\n * If the arguments to this function do not result in a legal execution context,\n * a GraphQLError will be thrown immediately explaining the invalid input.\n */\nfunction execute(args) {\n    // If a valid execution context cannot be created due to incorrect arguments,\n    // a \"Response\" with only errors is returned.\n    const exeContext = buildExecutionContext(args);\n    // Return early errors if execution context failed.\n    if (!('schema' in exeContext)) {\n        return {\n            errors: exeContext.map(e => {\n                var _a;\n                Object.defineProperty(e, 'extensions', {\n                    value: {\n                        ...e.extensions,\n                        http: {\n                            ...(_a = e.extensions) === null || _a === void 0 ? void 0 : _a['http'],\n                            status: 400,\n                        },\n                    },\n                });\n                return e;\n            }),\n        };\n    }\n    return executeImpl(exeContext);\n}\nfunction executeImpl(exeContext) {\n    // Return a Promise that will eventually resolve to the data described by\n    // The \"Response\" section of the GraphQL specification.\n    //\n    // If errors are encountered while executing a GraphQL field, only that\n    // field and its descendants will be omitted, and sibling fields will still\n    // be executed. An execution which encounters errors will still result in a\n    // resolved Promise.\n    //\n    // Errors from sub-fields of a NonNull type may propagate to the top level,\n    // at which point we still log the error and null the parent field, which\n    // in this case is the entire response.\n    return new value_or_promise__WEBPACK_IMPORTED_MODULE_0__.ValueOrPromise(() => executeOperation(exeContext))\n        .then(data => {\n        const initialResult = buildResponse(data, exeContext.errors);\n        if (exeContext.subsequentPayloads.size > 0) {\n            return {\n                initialResult: {\n                    ...initialResult,\n                    hasNext: true,\n                },\n                subsequentResults: yieldSubsequentPayloads(exeContext),\n            };\n        }\n        return initialResult;\n    }, (error) => {\n        exeContext.errors.push(error);\n        return buildResponse(null, exeContext.errors);\n    })\n        .resolve();\n}\n/**\n * Also implements the \"Executing requests\" section of the GraphQL specification.\n * However, it guarantees to complete synchronously (or throw an error) assuming\n * that all field resolvers are also synchronous.\n */\nfunction executeSync(args) {\n    const result = execute(args);\n    // Assert that the execution was synchronous.\n    if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(result) || 'initialResult' in result) {\n        throw new Error('GraphQL execution failed to complete synchronously.');\n    }\n    return result;\n}\n/**\n * Given a completed execution context and data, build the `{ errors, data }`\n * response defined by the \"Response\" section of the GraphQL specification.\n */\nfunction buildResponse(data, errors) {\n    return errors.length === 0 ? { data } : { errors, data };\n}\n/**\n * Essential assertions before executing to provide developer feedback for\n * improper use of the GraphQL library.\n *\n * @internal\n */\nfunction assertValidExecutionArguments(schema, document, rawVariableValues) {\n    console.assert(!!document, 'Must provide document.');\n    // If the schema used for execution is invalid, throw an error.\n    (0,graphql__WEBPACK_IMPORTED_MODULE_4__.assertValidSchema)(schema);\n    // Variables, if provided, must be an object.\n    console.assert(rawVariableValues == null || (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isObjectLike)(rawVariableValues), 'Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.');\n}\n/**\n * Constructs a ExecutionContext object from the arguments passed to\n * execute, which we will pass throughout the other execution methods.\n *\n * Throws a GraphQLError if a valid execution context cannot be created.\n *\n * TODO: consider no longer exporting this function\n * @internal\n */\nfunction buildExecutionContext(args) {\n    var _a, _b;\n    const { schema, document, rootValue, contextValue, variableValues: rawVariableValues, operationName, fieldResolver, typeResolver, subscribeFieldResolver, } = args;\n    // If the schema used for execution is invalid, throw an error.\n    (0,graphql__WEBPACK_IMPORTED_MODULE_4__.assertValidSchema)(schema);\n    let operation;\n    const fragments = Object.create(null);\n    for (const definition of document.definitions) {\n        switch (definition.kind) {\n            case graphql__WEBPACK_IMPORTED_MODULE_5__.Kind.OPERATION_DEFINITION:\n                if (operationName == null) {\n                    if (operation !== undefined) {\n                        return [(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)('Must provide operation name if query contains multiple operations.')];\n                    }\n                    operation = definition;\n                }\n                else if (((_a = definition.name) === null || _a === void 0 ? void 0 : _a.value) === operationName) {\n                    operation = definition;\n                }\n                break;\n            case graphql__WEBPACK_IMPORTED_MODULE_5__.Kind.FRAGMENT_DEFINITION:\n                fragments[definition.name.value] = definition;\n                break;\n            default:\n            // ignore non-executable definitions\n        }\n    }\n    if (!operation) {\n        if (operationName != null) {\n            return [(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Unknown operation named \"${operationName}\".`)];\n        }\n        return [(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)('Must provide an operation.')];\n    }\n    // FIXME: https://github.com/graphql/graphql-js/issues/2203\n    /* c8 ignore next */\n    const variableDefinitions = (_b = operation.variableDefinitions) !== null && _b !== void 0 ? _b : [];\n    const coercedVariableValues = (0,_values_js__WEBPACK_IMPORTED_MODULE_7__.getVariableValues)(schema, variableDefinitions, rawVariableValues !== null && rawVariableValues !== void 0 ? rawVariableValues : {}, {\n        maxErrors: 50,\n    });\n    if (coercedVariableValues.errors) {\n        return coercedVariableValues.errors;\n    }\n    return {\n        schema,\n        fragments,\n        rootValue,\n        contextValue,\n        operation,\n        variableValues: coercedVariableValues.coerced,\n        fieldResolver: fieldResolver !== null && fieldResolver !== void 0 ? fieldResolver : defaultFieldResolver,\n        typeResolver: typeResolver !== null && typeResolver !== void 0 ? typeResolver : defaultTypeResolver,\n        subscribeFieldResolver: subscribeFieldResolver !== null && subscribeFieldResolver !== void 0 ? subscribeFieldResolver : defaultFieldResolver,\n        subsequentPayloads: new Set(),\n        errors: [],\n    };\n}\nfunction buildPerEventExecutionContext(exeContext, payload) {\n    return {\n        ...exeContext,\n        rootValue: payload,\n        subsequentPayloads: new Set(),\n        errors: [],\n    };\n}\n/**\n * Implements the \"Executing operations\" section of the spec.\n */\nfunction executeOperation(exeContext) {\n    const { operation, schema, fragments, variableValues, rootValue } = exeContext;\n    const rootType = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_8__.getDefinedRootType)(schema, operation.operation, [operation]);\n    if (rootType == null) {\n        (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Schema is not configured to execute ${operation.operation} operation.`, {\n            nodes: operation,\n        });\n    }\n    const { fields: rootFields, patches } = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_2__.collectFields)(schema, fragments, variableValues, rootType, operation.selectionSet);\n    const path = undefined;\n    let result;\n    if (operation.operation === 'mutation') {\n        result = executeFieldsSerially(exeContext, rootType, rootValue, path, rootFields);\n    }\n    else {\n        result = executeFields(exeContext, rootType, rootValue, path, rootFields);\n    }\n    for (const patch of patches) {\n        const { label, fields: patchFields } = patch;\n        executeDeferredFragment(exeContext, rootType, rootValue, patchFields, label, path);\n    }\n    return result;\n}\n/**\n * Implements the \"Executing selection sets\" section of the spec\n * for fields that must be executed serially.\n */\nfunction executeFieldsSerially(exeContext, parentType, sourceValue, path, fields) {\n    return (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.promiseReduce)(fields, (results, [responseName, fieldNodes]) => {\n        const fieldPath = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.addPath)(path, responseName, parentType.name);\n        return new value_or_promise__WEBPACK_IMPORTED_MODULE_0__.ValueOrPromise(() => executeField(exeContext, parentType, sourceValue, fieldNodes, fieldPath))\n            .then(result => {\n            if (result === undefined) {\n                return results;\n            }\n            results[responseName] = result;\n            return results;\n        })\n            .resolve();\n    }, Object.create(null));\n}\n/**\n * Implements the \"Executing selection sets\" section of the spec\n * for fields that may be executed in parallel.\n */\nfunction executeFields(exeContext, parentType, sourceValue, path, fields, asyncPayloadRecord) {\n    const results = Object.create(null);\n    let containsPromise = false;\n    try {\n        for (const [responseName, fieldNodes] of fields) {\n            const fieldPath = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.addPath)(path, responseName, parentType.name);\n            const result = executeField(exeContext, parentType, sourceValue, fieldNodes, fieldPath, asyncPayloadRecord);\n            if (result !== undefined) {\n                results[responseName] = result;\n                if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(result)) {\n                    containsPromise = true;\n                }\n            }\n        }\n    }\n    catch (error) {\n        if (containsPromise) {\n            // Ensure that any promises returned by other fields are handled, as they may also reject.\n            return (0,_promiseForObject_js__WEBPACK_IMPORTED_MODULE_10__.promiseForObject)(results).finally(() => {\n                throw error;\n            });\n        }\n        throw error;\n    }\n    // If there are no promises, we can just return the object\n    if (!containsPromise) {\n        return results;\n    }\n    // Otherwise, results is a map from field name to the result of resolving that\n    // field, which is possibly a promise. Return a promise that will return this\n    // same map, but with any promises replaced with the values they resolved to.\n    return (0,_promiseForObject_js__WEBPACK_IMPORTED_MODULE_10__.promiseForObject)(results);\n}\n/**\n * Implements the \"Executing fields\" section of the spec\n * In particular, this function figures out the value that the field returns by\n * calling its resolve function, then calls completeValue to complete promises,\n * serialize scalars, or execute the sub-selection-set for objects.\n */\nfunction executeField(exeContext, parentType, source, fieldNodes, path, asyncPayloadRecord) {\n    var _a, _b;\n    const errors = (_a = asyncPayloadRecord === null || asyncPayloadRecord === void 0 ? void 0 : asyncPayloadRecord.errors) !== null && _a !== void 0 ? _a : exeContext.errors;\n    const fieldDef = getFieldDef(exeContext.schema, parentType, fieldNodes[0]);\n    if (!fieldDef) {\n        return;\n    }\n    const returnType = fieldDef.type;\n    const resolveFn = (_b = fieldDef.resolve) !== null && _b !== void 0 ? _b : exeContext.fieldResolver;\n    const info = buildResolveInfo(exeContext, fieldDef, fieldNodes, parentType, path);\n    // Get the resolve function, regardless of if its result is normal or abrupt (error).\n    try {\n        // Build a JS object of arguments from the field.arguments AST, using the\n        // variables scope to fulfill any variable references.\n        // TODO: find a way to memoize, in case this field is within a List type.\n        const args = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_11__.getArgumentValues)(fieldDef, fieldNodes[0], exeContext.variableValues);\n        // The resolve function's optional third argument is a context value that\n        // is provided to every resolve function within an execution. It is commonly\n        // used to represent an authenticated user, or request-specific caches.\n        const contextValue = exeContext.contextValue;\n        const result = resolveFn(source, args, contextValue, info);\n        let completed;\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(result)) {\n            completed = result.then(resolved => completeValue(exeContext, returnType, fieldNodes, info, path, resolved, asyncPayloadRecord));\n        }\n        else {\n            completed = completeValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord);\n        }\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(completed)) {\n            // Note: we don't rely on a `catch` method, but we do expect \"thenable\"\n            // to take a second callback for the error case.\n            return completed.then(undefined, rawError => {\n                const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(path));\n                const handledError = handleFieldError(error, returnType, errors);\n                filterSubsequentPayloads(exeContext, path, asyncPayloadRecord);\n                return handledError;\n            });\n        }\n        return completed;\n    }\n    catch (rawError) {\n        const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(path));\n        const handledError = handleFieldError(error, returnType, errors);\n        filterSubsequentPayloads(exeContext, path, asyncPayloadRecord);\n        return handledError;\n    }\n}\n/**\n * TODO: consider no longer exporting this function\n * @internal\n */\nfunction buildResolveInfo(exeContext, fieldDef, fieldNodes, parentType, path) {\n    // The resolve function's optional fourth argument is a collection of\n    // information about the current execution state.\n    return {\n        fieldName: fieldDef.name,\n        fieldNodes,\n        returnType: fieldDef.type,\n        parentType,\n        path,\n        schema: exeContext.schema,\n        fragments: exeContext.fragments,\n        rootValue: exeContext.rootValue,\n        operation: exeContext.operation,\n        variableValues: exeContext.variableValues,\n    };\n}\nfunction handleFieldError(error, returnType, errors) {\n    // If the field type is non-nullable, then it is resolved without any\n    // protection from errors, however it still properly locates the error.\n    if ((0,graphql__WEBPACK_IMPORTED_MODULE_13__.isNonNullType)(returnType)) {\n        throw error;\n    }\n    // Otherwise, error protection is applied, logging the error and resolving\n    // a null value for this field if one is encountered.\n    errors.push(error);\n    return null;\n}\n/**\n * Implements the instructions for completeValue as defined in the\n * \"Value Completion\" section of the spec.\n *\n * If the field type is Non-Null, then this recursively completes the value\n * for the inner type. It throws a field error if that completion returns null,\n * as per the \"Nullability\" section of the spec.\n *\n * If the field type is a List, then this recursively completes the value\n * for the inner type on each item in the list.\n *\n * If the field type is a Scalar or Enum, ensures the completed value is a legal\n * value of the type by calling the `serialize` method of GraphQL type\n * definition.\n *\n * If the field is an abstract type, determine the runtime type of the value\n * and then complete based on that type\n *\n * Otherwise, the field type expects a sub-selection set, and will complete the\n * value by executing all sub-selections.\n */\nfunction completeValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord) {\n    // If result is an Error, throw a located error.\n    if (result instanceof Error) {\n        throw result;\n    }\n    // If field type is NonNull, complete for inner type, and throw field error\n    // if result is null.\n    if ((0,graphql__WEBPACK_IMPORTED_MODULE_13__.isNonNullType)(returnType)) {\n        const completed = completeValue(exeContext, returnType.ofType, fieldNodes, info, path, result, asyncPayloadRecord);\n        if (completed === null) {\n            throw new Error(`Cannot return null for non-nullable field ${info.parentType.name}.${info.fieldName}.`);\n        }\n        return completed;\n    }\n    // If result value is null or undefined then return null.\n    if (result == null) {\n        return null;\n    }\n    // If field type is List, complete each item in the list with the inner type\n    if ((0,graphql__WEBPACK_IMPORTED_MODULE_13__.isListType)(returnType)) {\n        return completeListValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord);\n    }\n    // If field type is a leaf type, Scalar or Enum, serialize to a valid value,\n    // returning null if serialization is not possible.\n    if ((0,graphql__WEBPACK_IMPORTED_MODULE_13__.isLeafType)(returnType)) {\n        return completeLeafValue(returnType, result);\n    }\n    // If field type is an abstract type, Interface or Union, determine the\n    // runtime Object type and complete for that type.\n    if ((0,graphql__WEBPACK_IMPORTED_MODULE_13__.isAbstractType)(returnType)) {\n        return completeAbstractValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord);\n    }\n    // If field type is Object, execute and complete all sub-selections.\n    if ((0,graphql__WEBPACK_IMPORTED_MODULE_13__.isObjectType)(returnType)) {\n        return completeObjectValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord);\n    }\n    /* c8 ignore next 6 */\n    // Not reachable, all possible output types have been considered.\n    console.assert(false, 'Cannot complete value of unexpected output type: ' + (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(returnType));\n}\n/**\n * Returns an object containing the `@stream` arguments if a field should be\n * streamed based on the experimental flag, stream directive present and\n * not disabled by the \"if\" argument.\n */\nfunction getStreamValues(exeContext, fieldNodes, path) {\n    // do not stream inner lists of multi-dimensional lists\n    if (typeof path.key === 'number') {\n        return;\n    }\n    // validation only allows equivalent streams on multiple fields, so it is\n    // safe to only check the first fieldNode for the stream directive\n    const stream = (0,graphql__WEBPACK_IMPORTED_MODULE_15__.getDirectiveValues)(_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_16__.GraphQLStreamDirective, fieldNodes[0], exeContext.variableValues);\n    if (!stream) {\n        return;\n    }\n    if (stream.if === false) {\n        return;\n    }\n    (0,_invariant_js__WEBPACK_IMPORTED_MODULE_17__.invariant)(typeof stream['initialCount'] === 'number', 'initialCount must be a number');\n    (0,_invariant_js__WEBPACK_IMPORTED_MODULE_17__.invariant)(stream['initialCount'] >= 0, 'initialCount must be a positive integer');\n    return {\n        initialCount: stream['initialCount'],\n        label: typeof stream['label'] === 'string' ? stream['label'] : undefined,\n    };\n}\n/**\n * Complete a async iterator value by completing the result and calling\n * recursively until all the results are completed.\n */\nasync function completeAsyncIteratorValue(exeContext, itemType, fieldNodes, info, path, iterator, asyncPayloadRecord) {\n    var _a;\n    const errors = (_a = asyncPayloadRecord === null || asyncPayloadRecord === void 0 ? void 0 : asyncPayloadRecord.errors) !== null && _a !== void 0 ? _a : exeContext.errors;\n    const stream = getStreamValues(exeContext, fieldNodes, path);\n    let containsPromise = false;\n    const completedResults = [];\n    let index = 0;\n    while (true) {\n        if (stream && typeof stream.initialCount === 'number' && index >= stream.initialCount) {\n            executeStreamIterator(index, iterator, exeContext, fieldNodes, info, itemType, path, stream.label, asyncPayloadRecord);\n            break;\n        }\n        const itemPath = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.addPath)(path, index, undefined);\n        let iteration;\n        try {\n            iteration = await iterator.next();\n            if (iteration.done) {\n                break;\n            }\n        }\n        catch (rawError) {\n            const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n            completedResults.push(handleFieldError(error, itemType, errors));\n            break;\n        }\n        if (completeListItemValue(iteration.value, completedResults, errors, exeContext, itemType, fieldNodes, info, itemPath, asyncPayloadRecord)) {\n            containsPromise = true;\n        }\n        index += 1;\n    }\n    return containsPromise ? Promise.all(completedResults) : completedResults;\n}\n/**\n * Complete a list value by completing each item in the list with the\n * inner type\n */\nfunction completeListValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord) {\n    var _a;\n    const itemType = returnType.ofType;\n    const errors = (_a = asyncPayloadRecord === null || asyncPayloadRecord === void 0 ? void 0 : asyncPayloadRecord.errors) !== null && _a !== void 0 ? _a : exeContext.errors;\n    if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_18__.isAsyncIterable)(result)) {\n        const iterator = result[Symbol.asyncIterator]();\n        return completeAsyncIteratorValue(exeContext, itemType, fieldNodes, info, path, iterator, asyncPayloadRecord);\n    }\n    if (!(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isIterableObject)(result)) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Expected Iterable, but did not find one for field \"${info.parentType.name}.${info.fieldName}\".`);\n    }\n    const stream = getStreamValues(exeContext, fieldNodes, path);\n    // This is specified as a simple map, however we're optimizing the path\n    // where the list contains no Promises by avoiding creating another Promise.\n    let containsPromise = false;\n    let previousAsyncPayloadRecord = asyncPayloadRecord;\n    const completedResults = [];\n    let index = 0;\n    for (const item of result) {\n        // No need to modify the info object containing the path,\n        // since from here on it is not ever accessed by resolver functions.\n        const itemPath = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.addPath)(path, index, undefined);\n        if (stream && typeof stream.initialCount === 'number' && index >= stream.initialCount) {\n            previousAsyncPayloadRecord = executeStreamField(path, itemPath, item, exeContext, fieldNodes, info, itemType, stream.label, previousAsyncPayloadRecord);\n            index++;\n            continue;\n        }\n        if (completeListItemValue(item, completedResults, errors, exeContext, itemType, fieldNodes, info, itemPath, asyncPayloadRecord)) {\n            containsPromise = true;\n        }\n        index++;\n    }\n    return containsPromise ? Promise.all(completedResults) : completedResults;\n}\n/**\n * Complete a list item value by adding it to the completed results.\n *\n * Returns true if the value is a Promise.\n */\nfunction completeListItemValue(item, completedResults, errors, exeContext, itemType, fieldNodes, info, itemPath, asyncPayloadRecord) {\n    try {\n        let completedItem;\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(item)) {\n            completedItem = item.then(resolved => completeValue(exeContext, itemType, fieldNodes, info, itemPath, resolved, asyncPayloadRecord));\n        }\n        else {\n            completedItem = completeValue(exeContext, itemType, fieldNodes, info, itemPath, item, asyncPayloadRecord);\n        }\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(completedItem)) {\n            // Note: we don't rely on a `catch` method, but we do expect \"thenable\"\n            // to take a second callback for the error case.\n            completedResults.push(completedItem.then(undefined, rawError => {\n                const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n                const handledError = handleFieldError(error, itemType, errors);\n                filterSubsequentPayloads(exeContext, itemPath, asyncPayloadRecord);\n                return handledError;\n            }));\n            return true;\n        }\n        completedResults.push(completedItem);\n    }\n    catch (rawError) {\n        const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n        const handledError = handleFieldError(error, itemType, errors);\n        filterSubsequentPayloads(exeContext, itemPath, asyncPayloadRecord);\n        completedResults.push(handledError);\n    }\n    return false;\n}\n/**\n * Complete a Scalar or Enum by serializing to a valid value, returning\n * null if serialization is not possible.\n */\nfunction completeLeafValue(returnType, result) {\n    const serializedResult = returnType.serialize(result);\n    if (serializedResult == null) {\n        throw new Error(`Expected \\`${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(returnType)}.serialize(${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(result)})\\` to ` +\n            `return non-nullable value, returned: ${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(serializedResult)}`);\n    }\n    return serializedResult;\n}\n/**\n * Complete a value of an abstract type by determining the runtime object type\n * of that value, then complete the value for that type.\n */\nfunction completeAbstractValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord) {\n    var _a;\n    const resolveTypeFn = (_a = returnType.resolveType) !== null && _a !== void 0 ? _a : exeContext.typeResolver;\n    const contextValue = exeContext.contextValue;\n    const runtimeType = resolveTypeFn(result, contextValue, info, returnType);\n    if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(runtimeType)) {\n        return runtimeType.then(resolvedRuntimeType => completeObjectValue(exeContext, ensureValidRuntimeType(resolvedRuntimeType, exeContext, returnType, fieldNodes, info, result), fieldNodes, info, path, result, asyncPayloadRecord));\n    }\n    return completeObjectValue(exeContext, ensureValidRuntimeType(runtimeType, exeContext, returnType, fieldNodes, info, result), fieldNodes, info, path, result, asyncPayloadRecord);\n}\nfunction ensureValidRuntimeType(runtimeTypeName, exeContext, returnType, fieldNodes, info, result) {\n    if (runtimeTypeName == null) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Abstract type \"${returnType.name}\" must resolve to an Object type at runtime for field \"${info.parentType.name}.${info.fieldName}\". Either the \"${returnType.name}\" type should provide a \"resolveType\" function or each possible type should provide an \"isTypeOf\" function.`, { nodes: fieldNodes });\n    }\n    // releases before 16.0.0 supported returning `GraphQLObjectType` from `resolveType`\n    // TODO: remove in 17.0.0 release\n    if ((0,graphql__WEBPACK_IMPORTED_MODULE_13__.isObjectType)(runtimeTypeName)) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)('Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.');\n    }\n    if (typeof runtimeTypeName !== 'string') {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Abstract type \"${returnType.name}\" must resolve to an Object type at runtime for field \"${info.parentType.name}.${info.fieldName}\" with ` +\n            `value ${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(result)}, received \"${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(runtimeTypeName)}\".`);\n    }\n    const runtimeType = exeContext.schema.getType(runtimeTypeName);\n    if (runtimeType == null) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Abstract type \"${returnType.name}\" was resolved to a type \"${runtimeTypeName}\" that does not exist inside the schema.`, { nodes: fieldNodes });\n    }\n    if (!(0,graphql__WEBPACK_IMPORTED_MODULE_13__.isObjectType)(runtimeType)) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Abstract type \"${returnType.name}\" was resolved to a non-object type \"${runtimeTypeName}\".`, { nodes: fieldNodes });\n    }\n    if (!exeContext.schema.isSubType(returnType, runtimeType)) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Runtime Object type \"${runtimeType.name}\" is not a possible type for \"${returnType.name}\".`, { nodes: fieldNodes });\n    }\n    return runtimeType;\n}\n/**\n * Complete an Object value by executing all sub-selections.\n */\nfunction completeObjectValue(exeContext, returnType, fieldNodes, info, path, result, asyncPayloadRecord) {\n    // If there is an isTypeOf predicate function, call it with the\n    // current result. If isTypeOf returns false, then raise an error rather\n    // than continuing execution.\n    if (returnType.isTypeOf) {\n        const isTypeOf = returnType.isTypeOf(result, exeContext.contextValue, info);\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(isTypeOf)) {\n            return isTypeOf.then(resolvedIsTypeOf => {\n                if (!resolvedIsTypeOf) {\n                    throw invalidReturnTypeError(returnType, result, fieldNodes);\n                }\n                return collectAndExecuteSubfields(exeContext, returnType, fieldNodes, path, result, asyncPayloadRecord);\n            });\n        }\n        if (!isTypeOf) {\n            throw invalidReturnTypeError(returnType, result, fieldNodes);\n        }\n    }\n    return collectAndExecuteSubfields(exeContext, returnType, fieldNodes, path, result, asyncPayloadRecord);\n}\nfunction invalidReturnTypeError(returnType, result, fieldNodes) {\n    return (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`Expected value of type \"${returnType.name}\" but got: ${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(result)}.`, {\n        nodes: fieldNodes,\n    });\n}\nfunction collectAndExecuteSubfields(exeContext, returnType, fieldNodes, path, result, asyncPayloadRecord) {\n    // Collect sub-fields to execute to complete this value.\n    const { fields: subFieldNodes, patches: subPatches } = collectSubfields(exeContext, returnType, fieldNodes);\n    const subFields = executeFields(exeContext, returnType, result, path, subFieldNodes, asyncPayloadRecord);\n    for (const subPatch of subPatches) {\n        const { label, fields: subPatchFieldNodes } = subPatch;\n        executeDeferredFragment(exeContext, returnType, result, subPatchFieldNodes, label, path, asyncPayloadRecord);\n    }\n    return subFields;\n}\n/**\n * If a resolveType function is not given, then a default resolve behavior is\n * used which attempts two strategies:\n *\n * First, See if the provided value has a `__typename` field defined, if so, use\n * that value as name of the resolved type.\n *\n * Otherwise, test each possible type for the abstract type by calling\n * isTypeOf for the object being coerced, returning the first type that matches.\n */\nconst defaultTypeResolver = function (value, contextValue, info, abstractType) {\n    // First, look for `__typename`.\n    if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isObjectLike)(value) && typeof value['__typename'] === 'string') {\n        return value['__typename'];\n    }\n    // Otherwise, test each possible type.\n    const possibleTypes = info.schema.getPossibleTypes(abstractType);\n    const promisedIsTypeOfResults = [];\n    for (let i = 0; i < possibleTypes.length; i++) {\n        const type = possibleTypes[i];\n        if (type.isTypeOf) {\n            const isTypeOfResult = type.isTypeOf(value, contextValue, info);\n            if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(isTypeOfResult)) {\n                promisedIsTypeOfResults[i] = isTypeOfResult;\n            }\n            else if (isTypeOfResult) {\n                return type.name;\n            }\n        }\n    }\n    if (promisedIsTypeOfResults.length) {\n        return Promise.all(promisedIsTypeOfResults).then(isTypeOfResults => {\n            for (let i = 0; i < isTypeOfResults.length; i++) {\n                if (isTypeOfResults[i]) {\n                    return possibleTypes[i].name;\n                }\n            }\n        });\n    }\n};\n/**\n * If a resolve function is not given, then a default resolve behavior is used\n * which takes the property of the source object of the same name as the field\n * and returns it as the result, or if it's a function, returns the result\n * of calling that function while passing along args and context value.\n */\nconst defaultFieldResolver = function (source, args, contextValue, info) {\n    // ensure source is a value for which property access is acceptable.\n    if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isObjectLike)(source) || typeof source === 'function') {\n        const property = source[info.fieldName];\n        if (typeof property === 'function') {\n            return source[info.fieldName](args, contextValue, info);\n        }\n        return property;\n    }\n};\n/**\n * Implements the \"Subscribe\" algorithm described in the GraphQL specification,\n * including `@defer` and `@stream` as proposed in\n * https://github.com/graphql/graphql-spec/pull/742\n *\n * Returns a Promise which resolves to either an AsyncIterator (if successful)\n * or an ExecutionResult (error). The promise will be rejected if the schema or\n * other arguments to this function are invalid, or if the resolved event stream\n * is not an async iterable.\n *\n * If the client-provided arguments to this function do not result in a\n * compliant subscription, a GraphQL Response (ExecutionResult) with descriptive\n * errors and no data will be returned.\n *\n * If the source stream could not be created due to faulty subscription resolver\n * logic or underlying systems, the promise will resolve to a single\n * ExecutionResult containing `errors` and no `data`.\n *\n * If the operation succeeded, the promise resolves to an AsyncIterator, which\n * yields a stream of result representing the response stream.\n *\n * Each result may be an ExecutionResult with no `hasNext` (if executing the\n * event did not use `@defer` or `@stream`), or an\n * `InitialIncrementalExecutionResult` or `SubsequentIncrementalExecutionResult`\n * (if executing the event used `@defer` or `@stream`). In the case of\n * incremental execution results, each event produces a single\n * `InitialIncrementalExecutionResult` followed by one or more\n * `SubsequentIncrementalExecutionResult`s; all but the last have `hasNext: true`,\n * and the last has `hasNext: false`. There is no interleaving between results\n * generated from the same original event.\n *\n * Accepts an object with named arguments.\n */\nfunction subscribe(args) {\n    // If a valid execution context cannot be created due to incorrect arguments,\n    // a \"Response\" with only errors is returned.\n    const exeContext = buildExecutionContext(args);\n    // Return early errors if execution context failed.\n    if (!('schema' in exeContext)) {\n        return {\n            errors: exeContext.map(e => {\n                var _a;\n                Object.defineProperty(e, 'extensions', {\n                    value: {\n                        ...e.extensions,\n                        http: {\n                            ...(_a = e.extensions) === null || _a === void 0 ? void 0 : _a['http'],\n                            status: 400,\n                        },\n                    },\n                });\n                return e;\n            }),\n        };\n    }\n    const resultOrStream = createSourceEventStreamImpl(exeContext);\n    if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(resultOrStream)) {\n        return resultOrStream.then(resolvedResultOrStream => mapSourceToResponse(exeContext, resolvedResultOrStream));\n    }\n    return mapSourceToResponse(exeContext, resultOrStream);\n}\nfunction flattenIncrementalResults(incrementalResults) {\n    const subsequentIterator = incrementalResults.subsequentResults;\n    let initialResultSent = false;\n    let done = false;\n    return {\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n        async next() {\n            if (done) {\n                return {\n                    value: undefined,\n                    done,\n                };\n            }\n            if (initialResultSent) {\n                return subsequentIterator.next();\n            }\n            initialResultSent = true;\n            return Promise.resolve({\n                value: incrementalResults.initialResult,\n                done,\n            });\n        },\n        return() {\n            done = true;\n            return subsequentIterator.return();\n        },\n        throw(error) {\n            done = true;\n            return subsequentIterator.throw(error);\n        },\n    };\n}\nasync function* ensureAsyncIterable(someExecutionResult) {\n    if ('initialResult' in someExecutionResult) {\n        yield* flattenIncrementalResults(someExecutionResult);\n    }\n    else {\n        yield someExecutionResult;\n    }\n}\nfunction mapSourceToResponse(exeContext, resultOrStream) {\n    if (!(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_18__.isAsyncIterable)(resultOrStream)) {\n        return resultOrStream;\n    }\n    // For each payload yielded from a subscription, map it over the normal\n    // GraphQL `execute` function, with `payload` as the rootValue.\n    // This implements the \"MapSourceToResponseEvent\" algorithm described in\n    // the GraphQL specification. The `execute` function provides the\n    // \"ExecuteSubscriptionEvent\" algorithm, as it is nearly identical to the\n    // \"ExecuteQuery\" algorithm, for which `execute` is also used.\n    return (0,_flattenAsyncIterable_js__WEBPACK_IMPORTED_MODULE_19__.flattenAsyncIterable)((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_20__.mapAsyncIterator)(resultOrStream[Symbol.asyncIterator](), async (payload) => ensureAsyncIterable(await executeImpl(buildPerEventExecutionContext(exeContext, payload))), async function* (error) {\n        const wrappedError = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(error.message, {\n            originalError: error,\n            nodes: [exeContext.operation],\n        });\n        yield {\n            errors: [wrappedError],\n        };\n    }));\n}\nfunction createSourceEventStreamImpl(exeContext) {\n    try {\n        const eventStream = executeSubscription(exeContext);\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(eventStream)) {\n            return eventStream.then(undefined, error => ({ errors: [error] }));\n        }\n        return eventStream;\n    }\n    catch (error) {\n        return { errors: [error] };\n    }\n}\nfunction executeSubscription(exeContext) {\n    var _a;\n    const { schema, fragments, operation, variableValues, rootValue } = exeContext;\n    const rootType = schema.getSubscriptionType();\n    if (rootType == null) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)('Schema is not configured to execute subscription operation.', { nodes: operation });\n    }\n    const { fields: rootFields } = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_2__.collectFields)(schema, fragments, variableValues, rootType, operation.selectionSet);\n    const [responseName, fieldNodes] = [...rootFields.entries()][0];\n    const fieldName = fieldNodes[0].name.value;\n    const fieldDef = getFieldDef(schema, rootType, fieldNodes[0]);\n    if (!fieldDef) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)(`The subscription field \"${fieldName}\" is not defined.`, { nodes: fieldNodes });\n    }\n    const path = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.addPath)(undefined, responseName, rootType.name);\n    const info = buildResolveInfo(exeContext, fieldDef, fieldNodes, rootType, path);\n    try {\n        // Implements the \"ResolveFieldEventStream\" algorithm from GraphQL specification.\n        // It differs from \"ResolveFieldValue\" due to providing a different `resolveFn`.\n        // Build a JS object of arguments from the field.arguments AST, using the\n        // variables scope to fulfill any variable references.\n        const args = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_11__.getArgumentValues)(fieldDef, fieldNodes[0], variableValues);\n        // The resolve function's optional third argument is a context value that\n        // is provided to every resolve function within an execution. It is commonly\n        // used to represent an authenticated user, or request-specific caches.\n        const contextValue = exeContext.contextValue;\n        // Call the `subscribe()` resolver or the default resolver to produce an\n        // AsyncIterable yielding raw payloads.\n        const resolveFn = (_a = fieldDef.subscribe) !== null && _a !== void 0 ? _a : exeContext.subscribeFieldResolver;\n        const result = resolveFn(rootValue, args, contextValue, info);\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(result)) {\n            return result.then(assertEventStream).then(undefined, error => {\n                throw (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(error, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(path));\n            });\n        }\n        return assertEventStream(result);\n    }\n    catch (error) {\n        throw (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(error, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(path));\n    }\n}\nfunction assertEventStream(result) {\n    if (result instanceof Error) {\n        throw result;\n    }\n    // Assert field returned an event stream, otherwise yield an error.\n    if (!(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_18__.isAsyncIterable)(result)) {\n        throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.createGraphQLError)('Subscription field must return Async Iterable. ' + `Received: ${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_14__.inspect)(result)}.`);\n    }\n    return result;\n}\nfunction executeDeferredFragment(exeContext, parentType, sourceValue, fields, label, path, parentContext) {\n    const asyncPayloadRecord = new DeferredFragmentRecord({\n        label,\n        path,\n        parentContext,\n        exeContext,\n    });\n    let promiseOrData;\n    try {\n        promiseOrData = executeFields(exeContext, parentType, sourceValue, path, fields, asyncPayloadRecord);\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(promiseOrData)) {\n            promiseOrData = promiseOrData.then(null, e => {\n                asyncPayloadRecord.errors.push(e);\n                return null;\n            });\n        }\n    }\n    catch (e) {\n        asyncPayloadRecord.errors.push(e);\n        promiseOrData = null;\n    }\n    asyncPayloadRecord.addData(promiseOrData);\n}\nfunction executeStreamField(path, itemPath, item, exeContext, fieldNodes, info, itemType, label, parentContext) {\n    const asyncPayloadRecord = new StreamRecord({\n        label,\n        path: itemPath,\n        parentContext,\n        exeContext,\n    });\n    let completedItem;\n    try {\n        try {\n            if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(item)) {\n                completedItem = item.then(resolved => completeValue(exeContext, itemType, fieldNodes, info, itemPath, resolved, asyncPayloadRecord));\n            }\n            else {\n                completedItem = completeValue(exeContext, itemType, fieldNodes, info, itemPath, item, asyncPayloadRecord);\n            }\n            if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(completedItem)) {\n                // Note: we don't rely on a `catch` method, but we do expect \"thenable\"\n                // to take a second callback for the error case.\n                completedItem = completedItem.then(undefined, rawError => {\n                    const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n                    const handledError = handleFieldError(error, itemType, asyncPayloadRecord.errors);\n                    filterSubsequentPayloads(exeContext, itemPath, asyncPayloadRecord);\n                    return handledError;\n                });\n            }\n        }\n        catch (rawError) {\n            const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n            completedItem = handleFieldError(error, itemType, asyncPayloadRecord.errors);\n            filterSubsequentPayloads(exeContext, itemPath, asyncPayloadRecord);\n        }\n    }\n    catch (error) {\n        asyncPayloadRecord.errors.push(error);\n        filterSubsequentPayloads(exeContext, path, asyncPayloadRecord);\n        asyncPayloadRecord.addItems(null);\n        return asyncPayloadRecord;\n    }\n    let completedItems;\n    if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(completedItem)) {\n        completedItems = completedItem.then(value => [value], error => {\n            asyncPayloadRecord.errors.push(error);\n            filterSubsequentPayloads(exeContext, path, asyncPayloadRecord);\n            return null;\n        });\n    }\n    else {\n        completedItems = [completedItem];\n    }\n    asyncPayloadRecord.addItems(completedItems);\n    return asyncPayloadRecord;\n}\nasync function executeStreamIteratorItem(iterator, exeContext, fieldNodes, info, itemType, asyncPayloadRecord, itemPath) {\n    let item;\n    try {\n        const { value, done } = await iterator.next();\n        if (done) {\n            asyncPayloadRecord.setIsCompletedIterator();\n            return { done, value: undefined };\n        }\n        item = value;\n    }\n    catch (rawError) {\n        const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n        const value = handleFieldError(error, itemType, asyncPayloadRecord.errors);\n        // don't continue if iterator throws\n        return { done: true, value };\n    }\n    let completedItem;\n    try {\n        completedItem = completeValue(exeContext, itemType, fieldNodes, info, itemPath, item, asyncPayloadRecord);\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(completedItem)) {\n            completedItem = completedItem.then(undefined, rawError => {\n                const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n                const handledError = handleFieldError(error, itemType, asyncPayloadRecord.errors);\n                filterSubsequentPayloads(exeContext, itemPath, asyncPayloadRecord);\n                return handledError;\n            });\n        }\n        return { done: false, value: completedItem };\n    }\n    catch (rawError) {\n        const error = (0,graphql__WEBPACK_IMPORTED_MODULE_12__.locatedError)(rawError, fieldNodes, (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(itemPath));\n        const value = handleFieldError(error, itemType, asyncPayloadRecord.errors);\n        filterSubsequentPayloads(exeContext, itemPath, asyncPayloadRecord);\n        return { done: false, value };\n    }\n}\nasync function executeStreamIterator(initialIndex, iterator, exeContext, fieldNodes, info, itemType, path, label, parentContext) {\n    let index = initialIndex;\n    let previousAsyncPayloadRecord = parentContext !== null && parentContext !== void 0 ? parentContext : undefined;\n    while (true) {\n        const itemPath = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.addPath)(path, index, undefined);\n        const asyncPayloadRecord = new StreamRecord({\n            label,\n            path: itemPath,\n            parentContext: previousAsyncPayloadRecord,\n            iterator,\n            exeContext,\n        });\n        let iteration;\n        try {\n            iteration = await executeStreamIteratorItem(iterator, exeContext, fieldNodes, info, itemType, asyncPayloadRecord, itemPath);\n        }\n        catch (error) {\n            asyncPayloadRecord.errors.push(error);\n            filterSubsequentPayloads(exeContext, path, asyncPayloadRecord);\n            asyncPayloadRecord.addItems(null);\n            // entire stream has errored and bubbled upwards\n            if (iterator === null || iterator === void 0 ? void 0 : iterator.return) {\n                iterator.return().catch(() => {\n                    // ignore errors\n                });\n            }\n            return;\n        }\n        const { done, value: completedItem } = iteration;\n        let completedItems;\n        if ((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_3__.isPromise)(completedItem)) {\n            completedItems = completedItem.then(value => [value], error => {\n                asyncPayloadRecord.errors.push(error);\n                filterSubsequentPayloads(exeContext, path, asyncPayloadRecord);\n                return null;\n            });\n        }\n        else {\n            completedItems = [completedItem];\n        }\n        asyncPayloadRecord.addItems(completedItems);\n        if (done) {\n            break;\n        }\n        previousAsyncPayloadRecord = asyncPayloadRecord;\n        index++;\n    }\n}\nfunction filterSubsequentPayloads(exeContext, nullPath, currentAsyncRecord) {\n    const nullPathArray = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(nullPath);\n    exeContext.subsequentPayloads.forEach(asyncRecord => {\n        var _a;\n        if (asyncRecord === currentAsyncRecord) {\n            // don't remove payload from where error originates\n            return;\n        }\n        for (let i = 0; i < nullPathArray.length; i++) {\n            if (asyncRecord.path[i] !== nullPathArray[i]) {\n                // asyncRecord points to a path unaffected by this payload\n                return;\n            }\n        }\n        // asyncRecord path points to nulled error field\n        if (isStreamPayload(asyncRecord) && ((_a = asyncRecord.iterator) === null || _a === void 0 ? void 0 : _a.return)) {\n            asyncRecord.iterator.return().catch(() => {\n                // ignore error\n            });\n        }\n        exeContext.subsequentPayloads.delete(asyncRecord);\n    });\n}\nfunction getCompletedIncrementalResults(exeContext) {\n    const incrementalResults = [];\n    for (const asyncPayloadRecord of exeContext.subsequentPayloads) {\n        const incrementalResult = {};\n        if (!asyncPayloadRecord.isCompleted) {\n            continue;\n        }\n        exeContext.subsequentPayloads.delete(asyncPayloadRecord);\n        if (isStreamPayload(asyncPayloadRecord)) {\n            const items = asyncPayloadRecord.items;\n            if (asyncPayloadRecord.isCompletedIterator) {\n                // async iterable resolver just finished but there may be pending payloads\n                continue;\n            }\n            incrementalResult.items = items;\n        }\n        else {\n            const data = asyncPayloadRecord.data;\n            incrementalResult.data = data !== null && data !== void 0 ? data : null;\n        }\n        incrementalResult.path = asyncPayloadRecord.path;\n        if (asyncPayloadRecord.label) {\n            incrementalResult.label = asyncPayloadRecord.label;\n        }\n        if (asyncPayloadRecord.errors.length > 0) {\n            incrementalResult.errors = asyncPayloadRecord.errors;\n        }\n        incrementalResults.push(incrementalResult);\n    }\n    return incrementalResults;\n}\nfunction yieldSubsequentPayloads(exeContext) {\n    let isDone = false;\n    async function next() {\n        if (isDone) {\n            return { value: undefined, done: true };\n        }\n        await Promise.race(Array.from(exeContext.subsequentPayloads).map(p => p.promise));\n        if (isDone) {\n            // a different call to next has exhausted all payloads\n            return { value: undefined, done: true };\n        }\n        const incremental = getCompletedIncrementalResults(exeContext);\n        const hasNext = exeContext.subsequentPayloads.size > 0;\n        if (!incremental.length && hasNext) {\n            return next();\n        }\n        if (!hasNext) {\n            isDone = true;\n        }\n        return {\n            value: incremental.length ? { incremental, hasNext } : { hasNext },\n            done: false,\n        };\n    }\n    function returnStreamIterators() {\n        const promises = [];\n        exeContext.subsequentPayloads.forEach(asyncPayloadRecord => {\n            var _a;\n            if (isStreamPayload(asyncPayloadRecord) && ((_a = asyncPayloadRecord.iterator) === null || _a === void 0 ? void 0 : _a.return)) {\n                promises.push(asyncPayloadRecord.iterator.return());\n            }\n        });\n        return Promise.all(promises);\n    }\n    return {\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n        next,\n        async return() {\n            await returnStreamIterators();\n            isDone = true;\n            return { value: undefined, done: true };\n        },\n        async throw(error) {\n            await returnStreamIterators();\n            isDone = true;\n            return Promise.reject(error);\n        },\n    };\n}\nclass DeferredFragmentRecord {\n    constructor(opts) {\n        this.type = 'defer';\n        this.label = opts.label;\n        this.path = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(opts.path);\n        this.parentContext = opts.parentContext;\n        this.errors = [];\n        this._exeContext = opts.exeContext;\n        this._exeContext.subsequentPayloads.add(this);\n        this.isCompleted = false;\n        this.data = null;\n        this.promise = new Promise(resolve => {\n            this._resolve = MaybePromise => {\n                resolve(MaybePromise);\n            };\n        }).then(data => {\n            this.data = data;\n            this.isCompleted = true;\n        });\n    }\n    addData(data) {\n        var _a, _b, _c;\n        const parentData = (_a = this.parentContext) === null || _a === void 0 ? void 0 : _a.promise;\n        if (parentData) {\n            (_b = this._resolve) === null || _b === void 0 ? void 0 : _b.call(this, parentData.then(() => data));\n            return;\n        }\n        (_c = this._resolve) === null || _c === void 0 ? void 0 : _c.call(this, data);\n    }\n}\nclass StreamRecord {\n    constructor(opts) {\n        this.type = 'stream';\n        this.items = null;\n        this.label = opts.label;\n        this.path = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_9__.pathToArray)(opts.path);\n        this.parentContext = opts.parentContext;\n        this.iterator = opts.iterator;\n        this.errors = [];\n        this._exeContext = opts.exeContext;\n        this._exeContext.subsequentPayloads.add(this);\n        this.isCompleted = false;\n        this.items = null;\n        this.promise = new Promise(resolve => {\n            this._resolve = MaybePromise => {\n                resolve(MaybePromise);\n            };\n        }).then(items => {\n            this.items = items;\n            this.isCompleted = true;\n        });\n    }\n    addItems(items) {\n        var _a, _b, _c;\n        const parentData = (_a = this.parentContext) === null || _a === void 0 ? void 0 : _a.promise;\n        if (parentData) {\n            (_b = this._resolve) === null || _b === void 0 ? void 0 : _b.call(this, parentData.then(() => items));\n            return;\n        }\n        (_c = this._resolve) === null || _c === void 0 ? void 0 : _c.call(this, items);\n    }\n    setIsCompletedIterator() {\n        this.isCompletedIterator = true;\n    }\n}\nfunction isStreamPayload(asyncPayload) {\n    return asyncPayload.type === 'stream';\n}\n/**\n * This method looks up the field on the given type definition.\n * It has special casing for the three introspection fields,\n * __schema, __type and __typename. __typename is special because\n * it can always be queried as a field, even in situations where no\n * other fields are allowed, like on a Union. __schema and __type\n * could get automatically added to the query type, but that would\n * require mutating type definitions, which would cause issues.\n *\n * @internal\n */\nfunction getFieldDef(schema, parentType, fieldNode) {\n    const fieldName = fieldNode.name.value;\n    if (fieldName === graphql__WEBPACK_IMPORTED_MODULE_21__.SchemaMetaFieldDef.name && schema.getQueryType() === parentType) {\n        return graphql__WEBPACK_IMPORTED_MODULE_21__.SchemaMetaFieldDef;\n    }\n    else if (fieldName === graphql__WEBPACK_IMPORTED_MODULE_21__.TypeMetaFieldDef.name && schema.getQueryType() === parentType) {\n        return graphql__WEBPACK_IMPORTED_MODULE_21__.TypeMetaFieldDef;\n    }\n    else if (fieldName === graphql__WEBPACK_IMPORTED_MODULE_21__.TypeNameMetaFieldDef.name) {\n        return graphql__WEBPACK_IMPORTED_MODULE_21__.TypeNameMetaFieldDef;\n    }\n    return parentType.getFields()[fieldName];\n}\nfunction isIncrementalResult(result) {\n    return 'incremental' in result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi9leGVjdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzTjtBQUNnRztBQUN0UTtBQUNTO0FBQ1E7QUFDdEI7QUFDTztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDhEQUFRLHlDQUF5QyxzRUFBaUI7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxRQUFRLCtEQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsY0FBYztBQUM1RTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTyxJQUFJO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsSUFBSSwwREFB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c2VydmVyL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JhcGhxbC10b29scytleGVjdXRvckAwLjAuMThfZ3JhcGhxbEAxNi4xMC4wL25vZGVfbW9kdWxlcy9AZ3JhcGhxbC10b29scy9leGVjdXRvci9lc20vZXhlY3V0aW9uL2V4ZWN1dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9jYXRlZEVycm9yLCBLaW5kLCBpc0Fic3RyYWN0VHlwZSwgaXNMZWFmVHlwZSwgaXNMaXN0VHlwZSwgaXNOb25OdWxsVHlwZSwgaXNPYmplY3RUeXBlLCBhc3NlcnRWYWxpZFNjaGVtYSwgZ2V0RGlyZWN0aXZlVmFsdWVzLCBTY2hlbWFNZXRhRmllbGREZWYsIFR5cGVNZXRhRmllbGREZWYsIFR5cGVOYW1lTWV0YUZpZWxkRGVmLCB9IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgY3JlYXRlR3JhcGhRTEVycm9yLCBpbnNwZWN0LCBpc0FzeW5jSXRlcmFibGUsIGlzSXRlcmFibGVPYmplY3QsIGlzT2JqZWN0TGlrZSwgaXNQcm9taXNlLCBwYXRoVG9BcnJheSwgYWRkUGF0aCwgZ2V0QXJndW1lbnRWYWx1ZXMsIHByb21pc2VSZWR1Y2UsIG1lbW9pemUzLCBnZXREZWZpbmVkUm9vdFR5cGUsIG1hcEFzeW5jSXRlcmF0b3IsIEdyYXBoUUxTdHJlYW1EaXJlY3RpdmUsIGNvbGxlY3RGaWVsZHMsIGNvbGxlY3RTdWJGaWVsZHMgYXMgX2NvbGxlY3RTdWJmaWVsZHMsIH0gZnJvbSAnQGdyYXBocWwtdG9vbHMvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0VmFyaWFibGVWYWx1ZXMgfSBmcm9tICcuL3ZhbHVlcy5qcyc7XG5pbXBvcnQgeyBwcm9taXNlRm9yT2JqZWN0IH0gZnJvbSAnLi9wcm9taXNlRm9yT2JqZWN0LmpzJztcbmltcG9ydCB7IGZsYXR0ZW5Bc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9mbGF0dGVuQXN5bmNJdGVyYWJsZS5qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuL2ludmFyaWFudC5qcyc7XG5pbXBvcnQgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJ3ZhbHVlLW9yLXByb21pc2UnO1xuLyoqXG4gKiBBIG1lbW9pemVkIGNvbGxlY3Rpb24gb2YgcmVsZXZhbnQgc3ViZmllbGRzIHdpdGggcmVnYXJkIHRvIHRoZSByZXR1cm5cbiAqIHR5cGUuIE1lbW9pemluZyBlbnN1cmVzIHRoZSBzdWJmaWVsZHMgYXJlIG5vdCByZXBlYXRlZGx5IGNhbGN1bGF0ZWQsIHdoaWNoXG4gKiBzYXZlcyBvdmVyaGVhZCB3aGVuIHJlc29sdmluZyBsaXN0cyBvZiB2YWx1ZXMuXG4gKi9cbmNvbnN0IGNvbGxlY3RTdWJmaWVsZHMgPSBtZW1vaXplMygoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcykgPT4gX2NvbGxlY3RTdWJmaWVsZHMoZXhlQ29udGV4dC5zY2hlbWEsIGV4ZUNvbnRleHQuZnJhZ21lbnRzLCBleGVDb250ZXh0LnZhcmlhYmxlVmFsdWVzLCByZXR1cm5UeXBlLCBmaWVsZE5vZGVzKSk7XG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwiRXhlY3V0aW5nIHJlcXVlc3RzXCIgc2VjdGlvbiBvZiB0aGUgR3JhcGhRTCBzcGVjaWZpY2F0aW9uLFxuICogaW5jbHVkaW5nIGBAZGVmZXJgIGFuZCBgQHN0cmVhbWAgYXMgcHJvcG9zZWQgaW5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2dyYXBocWwtc3BlYy9wdWxsLzc0MlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2Ugb2YgYW4gSW5jcmVtZW50YWxFeGVjdXRpb25SZXN1bHRzXG4gKiBvYmplY3QuIFRoaXMgb2JqZWN0IGVpdGhlciBjb25zaXN0cyBvZiBhIHNpbmdsZSBFeGVjdXRpb25SZXN1bHQsIG9yIGFuXG4gKiBvYmplY3QgY29udGFpbmluZyBhbiBgaW5pdGlhbFJlc3VsdGAgYW5kIGEgc3RyZWFtIG9mIGBzdWJzZXF1ZW50UmVzdWx0c2AuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50cyB0byB0aGlzIGZ1bmN0aW9uIGRvIG5vdCByZXN1bHQgaW4gYSBsZWdhbCBleGVjdXRpb24gY29udGV4dCxcbiAqIGEgR3JhcGhRTEVycm9yIHdpbGwgYmUgdGhyb3duIGltbWVkaWF0ZWx5IGV4cGxhaW5pbmcgdGhlIGludmFsaWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlKGFyZ3MpIHtcbiAgICAvLyBJZiBhIHZhbGlkIGV4ZWN1dGlvbiBjb250ZXh0IGNhbm5vdCBiZSBjcmVhdGVkIGR1ZSB0byBpbmNvcnJlY3QgYXJndW1lbnRzLFxuICAgIC8vIGEgXCJSZXNwb25zZVwiIHdpdGggb25seSBlcnJvcnMgaXMgcmV0dXJuZWQuXG4gICAgY29uc3QgZXhlQ29udGV4dCA9IGJ1aWxkRXhlY3V0aW9uQ29udGV4dChhcmdzKTtcbiAgICAvLyBSZXR1cm4gZWFybHkgZXJyb3JzIGlmIGV4ZWN1dGlvbiBjb250ZXh0IGZhaWxlZC5cbiAgICBpZiAoISgnc2NoZW1hJyBpbiBleGVDb250ZXh0KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXJyb3JzOiBleGVDb250ZXh0Lm1hcChlID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsICdleHRlbnNpb25zJywge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZS5leHRlbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihfYSA9IGUuZXh0ZW5zaW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWydodHRwJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBleGVjdXRlSW1wbChleGVDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIGV4ZWN1dGVJbXBsKGV4ZUNvbnRleHQpIHtcbiAgICAvLyBSZXR1cm4gYSBQcm9taXNlIHRoYXQgd2lsbCBldmVudHVhbGx5IHJlc29sdmUgdG8gdGhlIGRhdGEgZGVzY3JpYmVkIGJ5XG4gICAgLy8gVGhlIFwiUmVzcG9uc2VcIiBzZWN0aW9uIG9mIHRoZSBHcmFwaFFMIHNwZWNpZmljYXRpb24uXG4gICAgLy9cbiAgICAvLyBJZiBlcnJvcnMgYXJlIGVuY291bnRlcmVkIHdoaWxlIGV4ZWN1dGluZyBhIEdyYXBoUUwgZmllbGQsIG9ubHkgdGhhdFxuICAgIC8vIGZpZWxkIGFuZCBpdHMgZGVzY2VuZGFudHMgd2lsbCBiZSBvbWl0dGVkLCBhbmQgc2libGluZyBmaWVsZHMgd2lsbCBzdGlsbFxuICAgIC8vIGJlIGV4ZWN1dGVkLiBBbiBleGVjdXRpb24gd2hpY2ggZW5jb3VudGVycyBlcnJvcnMgd2lsbCBzdGlsbCByZXN1bHQgaW4gYVxuICAgIC8vIHJlc29sdmVkIFByb21pc2UuXG4gICAgLy9cbiAgICAvLyBFcnJvcnMgZnJvbSBzdWItZmllbGRzIG9mIGEgTm9uTnVsbCB0eXBlIG1heSBwcm9wYWdhdGUgdG8gdGhlIHRvcCBsZXZlbCxcbiAgICAvLyBhdCB3aGljaCBwb2ludCB3ZSBzdGlsbCBsb2cgdGhlIGVycm9yIGFuZCBudWxsIHRoZSBwYXJlbnQgZmllbGQsIHdoaWNoXG4gICAgLy8gaW4gdGhpcyBjYXNlIGlzIHRoZSBlbnRpcmUgcmVzcG9uc2UuXG4gICAgcmV0dXJuIG5ldyBWYWx1ZU9yUHJvbWlzZSgoKSA9PiBleGVjdXRlT3BlcmF0aW9uKGV4ZUNvbnRleHQpKVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFJlc3VsdCA9IGJ1aWxkUmVzcG9uc2UoZGF0YSwgZXhlQ29udGV4dC5lcnJvcnMpO1xuICAgICAgICBpZiAoZXhlQ29udGV4dC5zdWJzZXF1ZW50UGF5bG9hZHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFJlc3VsdDoge1xuICAgICAgICAgICAgICAgICAgICAuLi5pbml0aWFsUmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBoYXNOZXh0OiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3Vic2VxdWVudFJlc3VsdHM6IHlpZWxkU3Vic2VxdWVudFBheWxvYWRzKGV4ZUNvbnRleHQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5pdGlhbFJlc3VsdDtcbiAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgZXhlQ29udGV4dC5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgIHJldHVybiBidWlsZFJlc3BvbnNlKG51bGwsIGV4ZUNvbnRleHQuZXJyb3JzKTtcbiAgICB9KVxuICAgICAgICAucmVzb2x2ZSgpO1xufVxuLyoqXG4gKiBBbHNvIGltcGxlbWVudHMgdGhlIFwiRXhlY3V0aW5nIHJlcXVlc3RzXCIgc2VjdGlvbiBvZiB0aGUgR3JhcGhRTCBzcGVjaWZpY2F0aW9uLlxuICogSG93ZXZlciwgaXQgZ3VhcmFudGVlcyB0byBjb21wbGV0ZSBzeW5jaHJvbm91c2x5IChvciB0aHJvdyBhbiBlcnJvcikgYXNzdW1pbmdcbiAqIHRoYXQgYWxsIGZpZWxkIHJlc29sdmVycyBhcmUgYWxzbyBzeW5jaHJvbm91cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTeW5jKGFyZ3MpIHtcbiAgICBjb25zdCByZXN1bHQgPSBleGVjdXRlKGFyZ3MpO1xuICAgIC8vIEFzc2VydCB0aGF0IHRoZSBleGVjdXRpb24gd2FzIHN5bmNocm9ub3VzLlxuICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSB8fCAnaW5pdGlhbFJlc3VsdCcgaW4gcmVzdWx0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR3JhcGhRTCBleGVjdXRpb24gZmFpbGVkIHRvIGNvbXBsZXRlIHN5bmNocm9ub3VzbHkuJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEdpdmVuIGEgY29tcGxldGVkIGV4ZWN1dGlvbiBjb250ZXh0IGFuZCBkYXRhLCBidWlsZCB0aGUgYHsgZXJyb3JzLCBkYXRhIH1gXG4gKiByZXNwb25zZSBkZWZpbmVkIGJ5IHRoZSBcIlJlc3BvbnNlXCIgc2VjdGlvbiBvZiB0aGUgR3JhcGhRTCBzcGVjaWZpY2F0aW9uLlxuICovXG5mdW5jdGlvbiBidWlsZFJlc3BvbnNlKGRhdGEsIGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMubGVuZ3RoID09PSAwID8geyBkYXRhIH0gOiB7IGVycm9ycywgZGF0YSB9O1xufVxuLyoqXG4gKiBFc3NlbnRpYWwgYXNzZXJ0aW9ucyBiZWZvcmUgZXhlY3V0aW5nIHRvIHByb3ZpZGUgZGV2ZWxvcGVyIGZlZWRiYWNrIGZvclxuICogaW1wcm9wZXIgdXNlIG9mIHRoZSBHcmFwaFFMIGxpYnJhcnkuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRWYWxpZEV4ZWN1dGlvbkFyZ3VtZW50cyhzY2hlbWEsIGRvY3VtZW50LCByYXdWYXJpYWJsZVZhbHVlcykge1xuICAgIGNvbnNvbGUuYXNzZXJ0KCEhZG9jdW1lbnQsICdNdXN0IHByb3ZpZGUgZG9jdW1lbnQuJyk7XG4gICAgLy8gSWYgdGhlIHNjaGVtYSB1c2VkIGZvciBleGVjdXRpb24gaXMgaW52YWxpZCwgdGhyb3cgYW4gZXJyb3IuXG4gICAgYXNzZXJ0VmFsaWRTY2hlbWEoc2NoZW1hKTtcbiAgICAvLyBWYXJpYWJsZXMsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGFuIG9iamVjdC5cbiAgICBjb25zb2xlLmFzc2VydChyYXdWYXJpYWJsZVZhbHVlcyA9PSBudWxsIHx8IGlzT2JqZWN0TGlrZShyYXdWYXJpYWJsZVZhbHVlcyksICdWYXJpYWJsZXMgbXVzdCBiZSBwcm92aWRlZCBhcyBhbiBPYmplY3Qgd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyBhIHZhcmlhYmxlIHZhbHVlLiBQZXJoYXBzIGxvb2sgdG8gc2VlIGlmIGFuIHVucGFyc2VkIEpTT04gc3RyaW5nIHdhcyBwcm92aWRlZC4nKTtcbn1cbi8qKlxuICogQ29uc3RydWN0cyBhIEV4ZWN1dGlvbkNvbnRleHQgb2JqZWN0IGZyb20gdGhlIGFyZ3VtZW50cyBwYXNzZWQgdG9cbiAqIGV4ZWN1dGUsIHdoaWNoIHdlIHdpbGwgcGFzcyB0aHJvdWdob3V0IHRoZSBvdGhlciBleGVjdXRpb24gbWV0aG9kcy5cbiAqXG4gKiBUaHJvd3MgYSBHcmFwaFFMRXJyb3IgaWYgYSB2YWxpZCBleGVjdXRpb24gY29udGV4dCBjYW5ub3QgYmUgY3JlYXRlZC5cbiAqXG4gKiBUT0RPOiBjb25zaWRlciBubyBsb25nZXIgZXhwb3J0aW5nIHRoaXMgZnVuY3Rpb25cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRFeGVjdXRpb25Db250ZXh0KGFyZ3MpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHsgc2NoZW1hLCBkb2N1bWVudCwgcm9vdFZhbHVlLCBjb250ZXh0VmFsdWUsIHZhcmlhYmxlVmFsdWVzOiByYXdWYXJpYWJsZVZhbHVlcywgb3BlcmF0aW9uTmFtZSwgZmllbGRSZXNvbHZlciwgdHlwZVJlc29sdmVyLCBzdWJzY3JpYmVGaWVsZFJlc29sdmVyLCB9ID0gYXJncztcbiAgICAvLyBJZiB0aGUgc2NoZW1hIHVzZWQgZm9yIGV4ZWN1dGlvbiBpcyBpbnZhbGlkLCB0aHJvdyBhbiBlcnJvci5cbiAgICBhc3NlcnRWYWxpZFNjaGVtYShzY2hlbWEpO1xuICAgIGxldCBvcGVyYXRpb247XG4gICAgY29uc3QgZnJhZ21lbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGNvbnN0IGRlZmluaXRpb24gb2YgZG9jdW1lbnQuZGVmaW5pdGlvbnMpIHtcbiAgICAgICAgc3dpdGNoIChkZWZpbml0aW9uLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgS2luZC5PUEVSQVRJT05fREVGSU5JVElPTjpcbiAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uTmFtZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjcmVhdGVHcmFwaFFMRXJyb3IoJ011c3QgcHJvdmlkZSBvcGVyYXRpb24gbmFtZSBpZiBxdWVyeSBjb250YWlucyBtdWx0aXBsZSBvcGVyYXRpb25zLicpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb24gPSBkZWZpbml0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoKF9hID0gZGVmaW5pdGlvbi5uYW1lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsdWUpID09PSBvcGVyYXRpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbiA9IGRlZmluaXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBLaW5kLkZSQUdNRU5UX0RFRklOSVRJT046XG4gICAgICAgICAgICAgICAgZnJhZ21lbnRzW2RlZmluaXRpb24ubmFtZS52YWx1ZV0gPSBkZWZpbml0aW9uO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIGlnbm9yZSBub24tZXhlY3V0YWJsZSBkZWZpbml0aW9uc1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghb3BlcmF0aW9uKSB7XG4gICAgICAgIGlmIChvcGVyYXRpb25OYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBbY3JlYXRlR3JhcGhRTEVycm9yKGBVbmtub3duIG9wZXJhdGlvbiBuYW1lZCBcIiR7b3BlcmF0aW9uTmFtZX1cIi5gKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtjcmVhdGVHcmFwaFFMRXJyb3IoJ011c3QgcHJvdmlkZSBhbiBvcGVyYXRpb24uJyldO1xuICAgIH1cbiAgICAvLyBGSVhNRTogaHR0cHM6Ly9naXRodWIuY29tL2dyYXBocWwvZ3JhcGhxbC1qcy9pc3N1ZXMvMjIwM1xuICAgIC8qIGM4IGlnbm9yZSBuZXh0ICovXG4gICAgY29uc3QgdmFyaWFibGVEZWZpbml0aW9ucyA9IChfYiA9IG9wZXJhdGlvbi52YXJpYWJsZURlZmluaXRpb25zKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICBjb25zdCBjb2VyY2VkVmFyaWFibGVWYWx1ZXMgPSBnZXRWYXJpYWJsZVZhbHVlcyhzY2hlbWEsIHZhcmlhYmxlRGVmaW5pdGlvbnMsIHJhd1ZhcmlhYmxlVmFsdWVzICE9PSBudWxsICYmIHJhd1ZhcmlhYmxlVmFsdWVzICE9PSB2b2lkIDAgPyByYXdWYXJpYWJsZVZhbHVlcyA6IHt9LCB7XG4gICAgICAgIG1heEVycm9yczogNTAsXG4gICAgfSk7XG4gICAgaWYgKGNvZXJjZWRWYXJpYWJsZVZhbHVlcy5lcnJvcnMpIHtcbiAgICAgICAgcmV0dXJuIGNvZXJjZWRWYXJpYWJsZVZhbHVlcy5lcnJvcnM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZnJhZ21lbnRzLFxuICAgICAgICByb290VmFsdWUsXG4gICAgICAgIGNvbnRleHRWYWx1ZSxcbiAgICAgICAgb3BlcmF0aW9uLFxuICAgICAgICB2YXJpYWJsZVZhbHVlczogY29lcmNlZFZhcmlhYmxlVmFsdWVzLmNvZXJjZWQsXG4gICAgICAgIGZpZWxkUmVzb2x2ZXI6IGZpZWxkUmVzb2x2ZXIgIT09IG51bGwgJiYgZmllbGRSZXNvbHZlciAhPT0gdm9pZCAwID8gZmllbGRSZXNvbHZlciA6IGRlZmF1bHRGaWVsZFJlc29sdmVyLFxuICAgICAgICB0eXBlUmVzb2x2ZXI6IHR5cGVSZXNvbHZlciAhPT0gbnVsbCAmJiB0eXBlUmVzb2x2ZXIgIT09IHZvaWQgMCA/IHR5cGVSZXNvbHZlciA6IGRlZmF1bHRUeXBlUmVzb2x2ZXIsXG4gICAgICAgIHN1YnNjcmliZUZpZWxkUmVzb2x2ZXI6IHN1YnNjcmliZUZpZWxkUmVzb2x2ZXIgIT09IG51bGwgJiYgc3Vic2NyaWJlRmllbGRSZXNvbHZlciAhPT0gdm9pZCAwID8gc3Vic2NyaWJlRmllbGRSZXNvbHZlciA6IGRlZmF1bHRGaWVsZFJlc29sdmVyLFxuICAgICAgICBzdWJzZXF1ZW50UGF5bG9hZHM6IG5ldyBTZXQoKSxcbiAgICAgICAgZXJyb3JzOiBbXSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRQZXJFdmVudEV4ZWN1dGlvbkNvbnRleHQoZXhlQ29udGV4dCwgcGF5bG9hZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmV4ZUNvbnRleHQsXG4gICAgICAgIHJvb3RWYWx1ZTogcGF5bG9hZCxcbiAgICAgICAgc3Vic2VxdWVudFBheWxvYWRzOiBuZXcgU2V0KCksXG4gICAgICAgIGVycm9yczogW10sXG4gICAgfTtcbn1cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJFeGVjdXRpbmcgb3BlcmF0aW9uc1wiIHNlY3Rpb24gb2YgdGhlIHNwZWMuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVPcGVyYXRpb24oZXhlQ29udGV4dCkge1xuICAgIGNvbnN0IHsgb3BlcmF0aW9uLCBzY2hlbWEsIGZyYWdtZW50cywgdmFyaWFibGVWYWx1ZXMsIHJvb3RWYWx1ZSB9ID0gZXhlQ29udGV4dDtcbiAgICBjb25zdCByb290VHlwZSA9IGdldERlZmluZWRSb290VHlwZShzY2hlbWEsIG9wZXJhdGlvbi5vcGVyYXRpb24sIFtvcGVyYXRpb25dKTtcbiAgICBpZiAocm9vdFR5cGUgPT0gbnVsbCkge1xuICAgICAgICBjcmVhdGVHcmFwaFFMRXJyb3IoYFNjaGVtYSBpcyBub3QgY29uZmlndXJlZCB0byBleGVjdXRlICR7b3BlcmF0aW9uLm9wZXJhdGlvbn0gb3BlcmF0aW9uLmAsIHtcbiAgICAgICAgICAgIG5vZGVzOiBvcGVyYXRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IGZpZWxkczogcm9vdEZpZWxkcywgcGF0Y2hlcyB9ID0gY29sbGVjdEZpZWxkcyhzY2hlbWEsIGZyYWdtZW50cywgdmFyaWFibGVWYWx1ZXMsIHJvb3RUeXBlLCBvcGVyYXRpb24uc2VsZWN0aW9uU2V0KTtcbiAgICBjb25zdCBwYXRoID0gdW5kZWZpbmVkO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKG9wZXJhdGlvbi5vcGVyYXRpb24gPT09ICdtdXRhdGlvbicpIHtcbiAgICAgICAgcmVzdWx0ID0gZXhlY3V0ZUZpZWxkc1NlcmlhbGx5KGV4ZUNvbnRleHQsIHJvb3RUeXBlLCByb290VmFsdWUsIHBhdGgsIHJvb3RGaWVsZHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gZXhlY3V0ZUZpZWxkcyhleGVDb250ZXh0LCByb290VHlwZSwgcm9vdFZhbHVlLCBwYXRoLCByb290RmllbGRzKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBwYXRjaCBvZiBwYXRjaGVzKSB7XG4gICAgICAgIGNvbnN0IHsgbGFiZWwsIGZpZWxkczogcGF0Y2hGaWVsZHMgfSA9IHBhdGNoO1xuICAgICAgICBleGVjdXRlRGVmZXJyZWRGcmFnbWVudChleGVDb250ZXh0LCByb290VHlwZSwgcm9vdFZhbHVlLCBwYXRjaEZpZWxkcywgbGFiZWwsIHBhdGgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcIkV4ZWN1dGluZyBzZWxlY3Rpb24gc2V0c1wiIHNlY3Rpb24gb2YgdGhlIHNwZWNcbiAqIGZvciBmaWVsZHMgdGhhdCBtdXN0IGJlIGV4ZWN1dGVkIHNlcmlhbGx5LlxuICovXG5mdW5jdGlvbiBleGVjdXRlRmllbGRzU2VyaWFsbHkoZXhlQ29udGV4dCwgcGFyZW50VHlwZSwgc291cmNlVmFsdWUsIHBhdGgsIGZpZWxkcykge1xuICAgIHJldHVybiBwcm9taXNlUmVkdWNlKGZpZWxkcywgKHJlc3VsdHMsIFtyZXNwb25zZU5hbWUsIGZpZWxkTm9kZXNdKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpZWxkUGF0aCA9IGFkZFBhdGgocGF0aCwgcmVzcG9uc2VOYW1lLCBwYXJlbnRUeXBlLm5hbWUpO1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlT3JQcm9taXNlKCgpID0+IGV4ZWN1dGVGaWVsZChleGVDb250ZXh0LCBwYXJlbnRUeXBlLCBzb3VyY2VWYWx1ZSwgZmllbGROb2RlcywgZmllbGRQYXRoKSlcbiAgICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdHNbcmVzcG9uc2VOYW1lXSA9IHJlc3VsdDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlc29sdmUoKTtcbiAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbn1cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJFeGVjdXRpbmcgc2VsZWN0aW9uIHNldHNcIiBzZWN0aW9uIG9mIHRoZSBzcGVjXG4gKiBmb3IgZmllbGRzIHRoYXQgbWF5IGJlIGV4ZWN1dGVkIGluIHBhcmFsbGVsLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRmllbGRzKGV4ZUNvbnRleHQsIHBhcmVudFR5cGUsIHNvdXJjZVZhbHVlLCBwYXRoLCBmaWVsZHMsIGFzeW5jUGF5bG9hZFJlY29yZCkge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjb250YWluc1Byb21pc2UgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IFtyZXNwb25zZU5hbWUsIGZpZWxkTm9kZXNdIG9mIGZpZWxkcykge1xuICAgICAgICAgICAgY29uc3QgZmllbGRQYXRoID0gYWRkUGF0aChwYXRoLCByZXNwb25zZU5hbWUsIHBhcmVudFR5cGUubmFtZSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBleGVjdXRlRmllbGQoZXhlQ29udGV4dCwgcGFyZW50VHlwZSwgc291cmNlVmFsdWUsIGZpZWxkTm9kZXMsIGZpZWxkUGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbcmVzcG9uc2VOYW1lXSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbnNQcm9taXNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjb250YWluc1Byb21pc2UpIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IGFueSBwcm9taXNlcyByZXR1cm5lZCBieSBvdGhlciBmaWVsZHMgYXJlIGhhbmRsZWQsIGFzIHRoZXkgbWF5IGFsc28gcmVqZWN0LlxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VGb3JPYmplY3QocmVzdWx0cykuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIHByb21pc2VzLCB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIG9iamVjdFxuICAgIGlmICghY29udGFpbnNQcm9taXNlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2UsIHJlc3VsdHMgaXMgYSBtYXAgZnJvbSBmaWVsZCBuYW1lIHRvIHRoZSByZXN1bHQgb2YgcmVzb2x2aW5nIHRoYXRcbiAgICAvLyBmaWVsZCwgd2hpY2ggaXMgcG9zc2libHkgYSBwcm9taXNlLiBSZXR1cm4gYSBwcm9taXNlIHRoYXQgd2lsbCByZXR1cm4gdGhpc1xuICAgIC8vIHNhbWUgbWFwLCBidXQgd2l0aCBhbnkgcHJvbWlzZXMgcmVwbGFjZWQgd2l0aCB0aGUgdmFsdWVzIHRoZXkgcmVzb2x2ZWQgdG8uXG4gICAgcmV0dXJuIHByb21pc2VGb3JPYmplY3QocmVzdWx0cyk7XG59XG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwiRXhlY3V0aW5nIGZpZWxkc1wiIHNlY3Rpb24gb2YgdGhlIHNwZWNcbiAqIEluIHBhcnRpY3VsYXIsIHRoaXMgZnVuY3Rpb24gZmlndXJlcyBvdXQgdGhlIHZhbHVlIHRoYXQgdGhlIGZpZWxkIHJldHVybnMgYnlcbiAqIGNhbGxpbmcgaXRzIHJlc29sdmUgZnVuY3Rpb24sIHRoZW4gY2FsbHMgY29tcGxldGVWYWx1ZSB0byBjb21wbGV0ZSBwcm9taXNlcyxcbiAqIHNlcmlhbGl6ZSBzY2FsYXJzLCBvciBleGVjdXRlIHRoZSBzdWItc2VsZWN0aW9uLXNldCBmb3Igb2JqZWN0cy5cbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZUZpZWxkKGV4ZUNvbnRleHQsIHBhcmVudFR5cGUsIHNvdXJjZSwgZmllbGROb2RlcywgcGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBlcnJvcnMgPSAoX2EgPSBhc3luY1BheWxvYWRSZWNvcmQgPT09IG51bGwgfHwgYXN5bmNQYXlsb2FkUmVjb3JkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBleGVDb250ZXh0LmVycm9ycztcbiAgICBjb25zdCBmaWVsZERlZiA9IGdldEZpZWxkRGVmKGV4ZUNvbnRleHQuc2NoZW1hLCBwYXJlbnRUeXBlLCBmaWVsZE5vZGVzWzBdKTtcbiAgICBpZiAoIWZpZWxkRGVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmV0dXJuVHlwZSA9IGZpZWxkRGVmLnR5cGU7XG4gICAgY29uc3QgcmVzb2x2ZUZuID0gKF9iID0gZmllbGREZWYucmVzb2x2ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZXhlQ29udGV4dC5maWVsZFJlc29sdmVyO1xuICAgIGNvbnN0IGluZm8gPSBidWlsZFJlc29sdmVJbmZvKGV4ZUNvbnRleHQsIGZpZWxkRGVmLCBmaWVsZE5vZGVzLCBwYXJlbnRUeXBlLCBwYXRoKTtcbiAgICAvLyBHZXQgdGhlIHJlc29sdmUgZnVuY3Rpb24sIHJlZ2FyZGxlc3Mgb2YgaWYgaXRzIHJlc3VsdCBpcyBub3JtYWwgb3IgYWJydXB0IChlcnJvcikuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQnVpbGQgYSBKUyBvYmplY3Qgb2YgYXJndW1lbnRzIGZyb20gdGhlIGZpZWxkLmFyZ3VtZW50cyBBU1QsIHVzaW5nIHRoZVxuICAgICAgICAvLyB2YXJpYWJsZXMgc2NvcGUgdG8gZnVsZmlsbCBhbnkgdmFyaWFibGUgcmVmZXJlbmNlcy5cbiAgICAgICAgLy8gVE9ETzogZmluZCBhIHdheSB0byBtZW1vaXplLCBpbiBjYXNlIHRoaXMgZmllbGQgaXMgd2l0aGluIGEgTGlzdCB0eXBlLlxuICAgICAgICBjb25zdCBhcmdzID0gZ2V0QXJndW1lbnRWYWx1ZXMoZmllbGREZWYsIGZpZWxkTm9kZXNbMF0sIGV4ZUNvbnRleHQudmFyaWFibGVWYWx1ZXMpO1xuICAgICAgICAvLyBUaGUgcmVzb2x2ZSBmdW5jdGlvbidzIG9wdGlvbmFsIHRoaXJkIGFyZ3VtZW50IGlzIGEgY29udGV4dCB2YWx1ZSB0aGF0XG4gICAgICAgIC8vIGlzIHByb3ZpZGVkIHRvIGV2ZXJ5IHJlc29sdmUgZnVuY3Rpb24gd2l0aGluIGFuIGV4ZWN1dGlvbi4gSXQgaXMgY29tbW9ubHlcbiAgICAgICAgLy8gdXNlZCB0byByZXByZXNlbnQgYW4gYXV0aGVudGljYXRlZCB1c2VyLCBvciByZXF1ZXN0LXNwZWNpZmljIGNhY2hlcy5cbiAgICAgICAgY29uc3QgY29udGV4dFZhbHVlID0gZXhlQ29udGV4dC5jb250ZXh0VmFsdWU7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc29sdmVGbihzb3VyY2UsIGFyZ3MsIGNvbnRleHRWYWx1ZSwgaW5mbyk7XG4gICAgICAgIGxldCBjb21wbGV0ZWQ7XG4gICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgY29tcGxldGVkID0gcmVzdWx0LnRoZW4ocmVzb2x2ZWQgPT4gY29tcGxldGVWYWx1ZShleGVDb250ZXh0LCByZXR1cm5UeXBlLCBmaWVsZE5vZGVzLCBpbmZvLCBwYXRoLCByZXNvbHZlZCwgYXN5bmNQYXlsb2FkUmVjb3JkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21wbGV0ZWQgPSBjb21wbGV0ZVZhbHVlKGV4ZUNvbnRleHQsIHJldHVyblR5cGUsIGZpZWxkTm9kZXMsIGluZm8sIHBhdGgsIHJlc3VsdCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlKGNvbXBsZXRlZCkpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IHdlIGRvbid0IHJlbHkgb24gYSBgY2F0Y2hgIG1ldGhvZCwgYnV0IHdlIGRvIGV4cGVjdCBcInRoZW5hYmxlXCJcbiAgICAgICAgICAgIC8vIHRvIHRha2UgYSBzZWNvbmQgY2FsbGJhY2sgZm9yIHRoZSBlcnJvciBjYXNlLlxuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZC50aGVuKHVuZGVmaW5lZCwgcmF3RXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbG9jYXRlZEVycm9yKHJhd0Vycm9yLCBmaWVsZE5vZGVzLCBwYXRoVG9BcnJheShwYXRoKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlZEVycm9yID0gaGFuZGxlRmllbGRFcnJvcihlcnJvciwgcmV0dXJuVHlwZSwgZXJyb3JzKTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJTdWJzZXF1ZW50UGF5bG9hZHMoZXhlQ29udGV4dCwgcGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlZEVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZDtcbiAgICB9XG4gICAgY2F0Y2ggKHJhd0Vycm9yKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbG9jYXRlZEVycm9yKHJhd0Vycm9yLCBmaWVsZE5vZGVzLCBwYXRoVG9BcnJheShwYXRoKSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZWRFcnJvciA9IGhhbmRsZUZpZWxkRXJyb3IoZXJyb3IsIHJldHVyblR5cGUsIGVycm9ycyk7XG4gICAgICAgIGZpbHRlclN1YnNlcXVlbnRQYXlsb2FkcyhleGVDb250ZXh0LCBwYXRoLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgICAgICByZXR1cm4gaGFuZGxlZEVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogVE9ETzogY29uc2lkZXIgbm8gbG9uZ2VyIGV4cG9ydGluZyB0aGlzIGZ1bmN0aW9uXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUmVzb2x2ZUluZm8oZXhlQ29udGV4dCwgZmllbGREZWYsIGZpZWxkTm9kZXMsIHBhcmVudFR5cGUsIHBhdGgpIHtcbiAgICAvLyBUaGUgcmVzb2x2ZSBmdW5jdGlvbidzIG9wdGlvbmFsIGZvdXJ0aCBhcmd1bWVudCBpcyBhIGNvbGxlY3Rpb24gb2ZcbiAgICAvLyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBleGVjdXRpb24gc3RhdGUuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZmllbGROYW1lOiBmaWVsZERlZi5uYW1lLFxuICAgICAgICBmaWVsZE5vZGVzLFxuICAgICAgICByZXR1cm5UeXBlOiBmaWVsZERlZi50eXBlLFxuICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICBwYXRoLFxuICAgICAgICBzY2hlbWE6IGV4ZUNvbnRleHQuc2NoZW1hLFxuICAgICAgICBmcmFnbWVudHM6IGV4ZUNvbnRleHQuZnJhZ21lbnRzLFxuICAgICAgICByb290VmFsdWU6IGV4ZUNvbnRleHQucm9vdFZhbHVlLFxuICAgICAgICBvcGVyYXRpb246IGV4ZUNvbnRleHQub3BlcmF0aW9uLFxuICAgICAgICB2YXJpYWJsZVZhbHVlczogZXhlQ29udGV4dC52YXJpYWJsZVZhbHVlcyxcbiAgICB9O1xufVxuZnVuY3Rpb24gaGFuZGxlRmllbGRFcnJvcihlcnJvciwgcmV0dXJuVHlwZSwgZXJyb3JzKSB7XG4gICAgLy8gSWYgdGhlIGZpZWxkIHR5cGUgaXMgbm9uLW51bGxhYmxlLCB0aGVuIGl0IGlzIHJlc29sdmVkIHdpdGhvdXQgYW55XG4gICAgLy8gcHJvdGVjdGlvbiBmcm9tIGVycm9ycywgaG93ZXZlciBpdCBzdGlsbCBwcm9wZXJseSBsb2NhdGVzIHRoZSBlcnJvci5cbiAgICBpZiAoaXNOb25OdWxsVHlwZShyZXR1cm5UeXBlKSkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCBlcnJvciBwcm90ZWN0aW9uIGlzIGFwcGxpZWQsIGxvZ2dpbmcgdGhlIGVycm9yIGFuZCByZXNvbHZpbmdcbiAgICAvLyBhIG51bGwgdmFsdWUgZm9yIHRoaXMgZmllbGQgaWYgb25lIGlzIGVuY291bnRlcmVkLlxuICAgIGVycm9ycy5wdXNoKGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgaW5zdHJ1Y3Rpb25zIGZvciBjb21wbGV0ZVZhbHVlIGFzIGRlZmluZWQgaW4gdGhlXG4gKiBcIlZhbHVlIENvbXBsZXRpb25cIiBzZWN0aW9uIG9mIHRoZSBzcGVjLlxuICpcbiAqIElmIHRoZSBmaWVsZCB0eXBlIGlzIE5vbi1OdWxsLCB0aGVuIHRoaXMgcmVjdXJzaXZlbHkgY29tcGxldGVzIHRoZSB2YWx1ZVxuICogZm9yIHRoZSBpbm5lciB0eXBlLiBJdCB0aHJvd3MgYSBmaWVsZCBlcnJvciBpZiB0aGF0IGNvbXBsZXRpb24gcmV0dXJucyBudWxsLFxuICogYXMgcGVyIHRoZSBcIk51bGxhYmlsaXR5XCIgc2VjdGlvbiBvZiB0aGUgc3BlYy5cbiAqXG4gKiBJZiB0aGUgZmllbGQgdHlwZSBpcyBhIExpc3QsIHRoZW4gdGhpcyByZWN1cnNpdmVseSBjb21wbGV0ZXMgdGhlIHZhbHVlXG4gKiBmb3IgdGhlIGlubmVyIHR5cGUgb24gZWFjaCBpdGVtIGluIHRoZSBsaXN0LlxuICpcbiAqIElmIHRoZSBmaWVsZCB0eXBlIGlzIGEgU2NhbGFyIG9yIEVudW0sIGVuc3VyZXMgdGhlIGNvbXBsZXRlZCB2YWx1ZSBpcyBhIGxlZ2FsXG4gKiB2YWx1ZSBvZiB0aGUgdHlwZSBieSBjYWxsaW5nIHRoZSBgc2VyaWFsaXplYCBtZXRob2Qgb2YgR3JhcGhRTCB0eXBlXG4gKiBkZWZpbml0aW9uLlxuICpcbiAqIElmIHRoZSBmaWVsZCBpcyBhbiBhYnN0cmFjdCB0eXBlLCBkZXRlcm1pbmUgdGhlIHJ1bnRpbWUgdHlwZSBvZiB0aGUgdmFsdWVcbiAqIGFuZCB0aGVuIGNvbXBsZXRlIGJhc2VkIG9uIHRoYXQgdHlwZVxuICpcbiAqIE90aGVyd2lzZSwgdGhlIGZpZWxkIHR5cGUgZXhwZWN0cyBhIHN1Yi1zZWxlY3Rpb24gc2V0LCBhbmQgd2lsbCBjb21wbGV0ZSB0aGVcbiAqIHZhbHVlIGJ5IGV4ZWN1dGluZyBhbGwgc3ViLXNlbGVjdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGNvbXBsZXRlVmFsdWUoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgaW5mbywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpIHtcbiAgICAvLyBJZiByZXN1bHQgaXMgYW4gRXJyb3IsIHRocm93IGEgbG9jYXRlZCBlcnJvci5cbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgIH1cbiAgICAvLyBJZiBmaWVsZCB0eXBlIGlzIE5vbk51bGwsIGNvbXBsZXRlIGZvciBpbm5lciB0eXBlLCBhbmQgdGhyb3cgZmllbGQgZXJyb3JcbiAgICAvLyBpZiByZXN1bHQgaXMgbnVsbC5cbiAgICBpZiAoaXNOb25OdWxsVHlwZShyZXR1cm5UeXBlKSkge1xuICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSBjb21wbGV0ZVZhbHVlKGV4ZUNvbnRleHQsIHJldHVyblR5cGUub2ZUeXBlLCBmaWVsZE5vZGVzLCBpbmZvLCBwYXRoLCByZXN1bHQsIGFzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgIGlmIChjb21wbGV0ZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJldHVybiBudWxsIGZvciBub24tbnVsbGFibGUgZmllbGQgJHtpbmZvLnBhcmVudFR5cGUubmFtZX0uJHtpbmZvLmZpZWxkTmFtZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlZDtcbiAgICB9XG4gICAgLy8gSWYgcmVzdWx0IHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkIHRoZW4gcmV0dXJuIG51bGwuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBJZiBmaWVsZCB0eXBlIGlzIExpc3QsIGNvbXBsZXRlIGVhY2ggaXRlbSBpbiB0aGUgbGlzdCB3aXRoIHRoZSBpbm5lciB0eXBlXG4gICAgaWYgKGlzTGlzdFR5cGUocmV0dXJuVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlTGlzdFZhbHVlKGV4ZUNvbnRleHQsIHJldHVyblR5cGUsIGZpZWxkTm9kZXMsIGluZm8sIHBhdGgsIHJlc3VsdCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICB9XG4gICAgLy8gSWYgZmllbGQgdHlwZSBpcyBhIGxlYWYgdHlwZSwgU2NhbGFyIG9yIEVudW0sIHNlcmlhbGl6ZSB0byBhIHZhbGlkIHZhbHVlLFxuICAgIC8vIHJldHVybmluZyBudWxsIGlmIHNlcmlhbGl6YXRpb24gaXMgbm90IHBvc3NpYmxlLlxuICAgIGlmIChpc0xlYWZUeXBlKHJldHVyblR5cGUpKSB7XG4gICAgICAgIHJldHVybiBjb21wbGV0ZUxlYWZWYWx1ZShyZXR1cm5UeXBlLCByZXN1bHQpO1xuICAgIH1cbiAgICAvLyBJZiBmaWVsZCB0eXBlIGlzIGFuIGFic3RyYWN0IHR5cGUsIEludGVyZmFjZSBvciBVbmlvbiwgZGV0ZXJtaW5lIHRoZVxuICAgIC8vIHJ1bnRpbWUgT2JqZWN0IHR5cGUgYW5kIGNvbXBsZXRlIGZvciB0aGF0IHR5cGUuXG4gICAgaWYgKGlzQWJzdHJhY3RUeXBlKHJldHVyblR5cGUpKSB7XG4gICAgICAgIHJldHVybiBjb21wbGV0ZUFic3RyYWN0VmFsdWUoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgaW5mbywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgIH1cbiAgICAvLyBJZiBmaWVsZCB0eXBlIGlzIE9iamVjdCwgZXhlY3V0ZSBhbmQgY29tcGxldGUgYWxsIHN1Yi1zZWxlY3Rpb25zLlxuICAgIGlmIChpc09iamVjdFR5cGUocmV0dXJuVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlT2JqZWN0VmFsdWUoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgaW5mbywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgIH1cbiAgICAvKiBjOCBpZ25vcmUgbmV4dCA2ICovXG4gICAgLy8gTm90IHJlYWNoYWJsZSwgYWxsIHBvc3NpYmxlIG91dHB1dCB0eXBlcyBoYXZlIGJlZW4gY29uc2lkZXJlZC5cbiAgICBjb25zb2xlLmFzc2VydChmYWxzZSwgJ0Nhbm5vdCBjb21wbGV0ZSB2YWx1ZSBvZiB1bmV4cGVjdGVkIG91dHB1dCB0eXBlOiAnICsgaW5zcGVjdChyZXR1cm5UeXBlKSk7XG59XG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBAc3RyZWFtYCBhcmd1bWVudHMgaWYgYSBmaWVsZCBzaG91bGQgYmVcbiAqIHN0cmVhbWVkIGJhc2VkIG9uIHRoZSBleHBlcmltZW50YWwgZmxhZywgc3RyZWFtIGRpcmVjdGl2ZSBwcmVzZW50IGFuZFxuICogbm90IGRpc2FibGVkIGJ5IHRoZSBcImlmXCIgYXJndW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGdldFN0cmVhbVZhbHVlcyhleGVDb250ZXh0LCBmaWVsZE5vZGVzLCBwYXRoKSB7XG4gICAgLy8gZG8gbm90IHN0cmVhbSBpbm5lciBsaXN0cyBvZiBtdWx0aS1kaW1lbnNpb25hbCBsaXN0c1xuICAgIGlmICh0eXBlb2YgcGF0aC5rZXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gdmFsaWRhdGlvbiBvbmx5IGFsbG93cyBlcXVpdmFsZW50IHN0cmVhbXMgb24gbXVsdGlwbGUgZmllbGRzLCBzbyBpdCBpc1xuICAgIC8vIHNhZmUgdG8gb25seSBjaGVjayB0aGUgZmlyc3QgZmllbGROb2RlIGZvciB0aGUgc3RyZWFtIGRpcmVjdGl2ZVxuICAgIGNvbnN0IHN0cmVhbSA9IGdldERpcmVjdGl2ZVZhbHVlcyhHcmFwaFFMU3RyZWFtRGlyZWN0aXZlLCBmaWVsZE5vZGVzWzBdLCBleGVDb250ZXh0LnZhcmlhYmxlVmFsdWVzKTtcbiAgICBpZiAoIXN0cmVhbSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzdHJlYW0uaWYgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KHR5cGVvZiBzdHJlYW1bJ2luaXRpYWxDb3VudCddID09PSAnbnVtYmVyJywgJ2luaXRpYWxDb3VudCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgaW52YXJpYW50KHN0cmVhbVsnaW5pdGlhbENvdW50J10gPj0gMCwgJ2luaXRpYWxDb3VudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlcicpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGluaXRpYWxDb3VudDogc3RyZWFtWydpbml0aWFsQ291bnQnXSxcbiAgICAgICAgbGFiZWw6IHR5cGVvZiBzdHJlYW1bJ2xhYmVsJ10gPT09ICdzdHJpbmcnID8gc3RyZWFtWydsYWJlbCddIDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIENvbXBsZXRlIGEgYXN5bmMgaXRlcmF0b3IgdmFsdWUgYnkgY29tcGxldGluZyB0aGUgcmVzdWx0IGFuZCBjYWxsaW5nXG4gKiByZWN1cnNpdmVseSB1bnRpbCBhbGwgdGhlIHJlc3VsdHMgYXJlIGNvbXBsZXRlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY29tcGxldGVBc3luY0l0ZXJhdG9yVmFsdWUoZXhlQ29udGV4dCwgaXRlbVR5cGUsIGZpZWxkTm9kZXMsIGluZm8sIHBhdGgsIGl0ZXJhdG9yLCBhc3luY1BheWxvYWRSZWNvcmQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZXJyb3JzID0gKF9hID0gYXN5bmNQYXlsb2FkUmVjb3JkID09PSBudWxsIHx8IGFzeW5jUGF5bG9hZFJlY29yZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXN5bmNQYXlsb2FkUmVjb3JkLmVycm9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZXhlQ29udGV4dC5lcnJvcnM7XG4gICAgY29uc3Qgc3RyZWFtID0gZ2V0U3RyZWFtVmFsdWVzKGV4ZUNvbnRleHQsIGZpZWxkTm9kZXMsIHBhdGgpO1xuICAgIGxldCBjb250YWluc1Byb21pc2UgPSBmYWxzZTtcbiAgICBjb25zdCBjb21wbGV0ZWRSZXN1bHRzID0gW107XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoc3RyZWFtICYmIHR5cGVvZiBzdHJlYW0uaW5pdGlhbENvdW50ID09PSAnbnVtYmVyJyAmJiBpbmRleCA+PSBzdHJlYW0uaW5pdGlhbENvdW50KSB7XG4gICAgICAgICAgICBleGVjdXRlU3RyZWFtSXRlcmF0b3IoaW5kZXgsIGl0ZXJhdG9yLCBleGVDb250ZXh0LCBmaWVsZE5vZGVzLCBpbmZvLCBpdGVtVHlwZSwgcGF0aCwgc3RyZWFtLmxhYmVsLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbVBhdGggPSBhZGRQYXRoKHBhdGgsIGluZGV4LCB1bmRlZmluZWQpO1xuICAgICAgICBsZXQgaXRlcmF0aW9uO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaXRlcmF0aW9uID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKGl0ZXJhdGlvbi5kb25lKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKHJhd0Vycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGxvY2F0ZWRFcnJvcihyYXdFcnJvciwgZmllbGROb2RlcywgcGF0aFRvQXJyYXkoaXRlbVBhdGgpKTtcbiAgICAgICAgICAgIGNvbXBsZXRlZFJlc3VsdHMucHVzaChoYW5kbGVGaWVsZEVycm9yKGVycm9yLCBpdGVtVHlwZSwgZXJyb3JzKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGxldGVMaXN0SXRlbVZhbHVlKGl0ZXJhdGlvbi52YWx1ZSwgY29tcGxldGVkUmVzdWx0cywgZXJyb3JzLCBleGVDb250ZXh0LCBpdGVtVHlwZSwgZmllbGROb2RlcywgaW5mbywgaXRlbVBhdGgsIGFzeW5jUGF5bG9hZFJlY29yZCkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5zUHJvbWlzZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRhaW5zUHJvbWlzZSA/IFByb21pc2UuYWxsKGNvbXBsZXRlZFJlc3VsdHMpIDogY29tcGxldGVkUmVzdWx0cztcbn1cbi8qKlxuICogQ29tcGxldGUgYSBsaXN0IHZhbHVlIGJ5IGNvbXBsZXRpbmcgZWFjaCBpdGVtIGluIHRoZSBsaXN0IHdpdGggdGhlXG4gKiBpbm5lciB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNvbXBsZXRlTGlzdFZhbHVlKGV4ZUNvbnRleHQsIHJldHVyblR5cGUsIGZpZWxkTm9kZXMsIGluZm8sIHBhdGgsIHJlc3VsdCwgYXN5bmNQYXlsb2FkUmVjb3JkKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGl0ZW1UeXBlID0gcmV0dXJuVHlwZS5vZlR5cGU7XG4gICAgY29uc3QgZXJyb3JzID0gKF9hID0gYXN5bmNQYXlsb2FkUmVjb3JkID09PSBudWxsIHx8IGFzeW5jUGF5bG9hZFJlY29yZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYXN5bmNQYXlsb2FkUmVjb3JkLmVycm9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZXhlQ29udGV4dC5lcnJvcnM7XG4gICAgaWYgKGlzQXN5bmNJdGVyYWJsZShyZXN1bHQpKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gcmVzdWx0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICByZXR1cm4gY29tcGxldGVBc3luY0l0ZXJhdG9yVmFsdWUoZXhlQ29udGV4dCwgaXRlbVR5cGUsIGZpZWxkTm9kZXMsIGluZm8sIHBhdGgsIGl0ZXJhdG9yLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgIH1cbiAgICBpZiAoIWlzSXRlcmFibGVPYmplY3QocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVHcmFwaFFMRXJyb3IoYEV4cGVjdGVkIEl0ZXJhYmxlLCBidXQgZGlkIG5vdCBmaW5kIG9uZSBmb3IgZmllbGQgXCIke2luZm8ucGFyZW50VHlwZS5uYW1lfS4ke2luZm8uZmllbGROYW1lfVwiLmApO1xuICAgIH1cbiAgICBjb25zdCBzdHJlYW0gPSBnZXRTdHJlYW1WYWx1ZXMoZXhlQ29udGV4dCwgZmllbGROb2RlcywgcGF0aCk7XG4gICAgLy8gVGhpcyBpcyBzcGVjaWZpZWQgYXMgYSBzaW1wbGUgbWFwLCBob3dldmVyIHdlJ3JlIG9wdGltaXppbmcgdGhlIHBhdGhcbiAgICAvLyB3aGVyZSB0aGUgbGlzdCBjb250YWlucyBubyBQcm9taXNlcyBieSBhdm9pZGluZyBjcmVhdGluZyBhbm90aGVyIFByb21pc2UuXG4gICAgbGV0IGNvbnRhaW5zUHJvbWlzZSA9IGZhbHNlO1xuICAgIGxldCBwcmV2aW91c0FzeW5jUGF5bG9hZFJlY29yZCA9IGFzeW5jUGF5bG9hZFJlY29yZDtcbiAgICBjb25zdCBjb21wbGV0ZWRSZXN1bHRzID0gW107XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0KSB7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gbW9kaWZ5IHRoZSBpbmZvIG9iamVjdCBjb250YWluaW5nIHRoZSBwYXRoLFxuICAgICAgICAvLyBzaW5jZSBmcm9tIGhlcmUgb24gaXQgaXMgbm90IGV2ZXIgYWNjZXNzZWQgYnkgcmVzb2x2ZXIgZnVuY3Rpb25zLlxuICAgICAgICBjb25zdCBpdGVtUGF0aCA9IGFkZFBhdGgocGF0aCwgaW5kZXgsIHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChzdHJlYW0gJiYgdHlwZW9mIHN0cmVhbS5pbml0aWFsQ291bnQgPT09ICdudW1iZXInICYmIGluZGV4ID49IHN0cmVhbS5pbml0aWFsQ291bnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzQXN5bmNQYXlsb2FkUmVjb3JkID0gZXhlY3V0ZVN0cmVhbUZpZWxkKHBhdGgsIGl0ZW1QYXRoLCBpdGVtLCBleGVDb250ZXh0LCBmaWVsZE5vZGVzLCBpbmZvLCBpdGVtVHlwZSwgc3RyZWFtLmxhYmVsLCBwcmV2aW91c0FzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBsZXRlTGlzdEl0ZW1WYWx1ZShpdGVtLCBjb21wbGV0ZWRSZXN1bHRzLCBlcnJvcnMsIGV4ZUNvbnRleHQsIGl0ZW1UeXBlLCBmaWVsZE5vZGVzLCBpbmZvLCBpdGVtUGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKSkge1xuICAgICAgICAgICAgY29udGFpbnNQcm9taXNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gY29udGFpbnNQcm9taXNlID8gUHJvbWlzZS5hbGwoY29tcGxldGVkUmVzdWx0cykgOiBjb21wbGV0ZWRSZXN1bHRzO1xufVxuLyoqXG4gKiBDb21wbGV0ZSBhIGxpc3QgaXRlbSB2YWx1ZSBieSBhZGRpbmcgaXQgdG8gdGhlIGNvbXBsZXRlZCByZXN1bHRzLlxuICpcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBQcm9taXNlLlxuICovXG5mdW5jdGlvbiBjb21wbGV0ZUxpc3RJdGVtVmFsdWUoaXRlbSwgY29tcGxldGVkUmVzdWx0cywgZXJyb3JzLCBleGVDb250ZXh0LCBpdGVtVHlwZSwgZmllbGROb2RlcywgaW5mbywgaXRlbVBhdGgsIGFzeW5jUGF5bG9hZFJlY29yZCkge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBjb21wbGV0ZWRJdGVtO1xuICAgICAgICBpZiAoaXNQcm9taXNlKGl0ZW0pKSB7XG4gICAgICAgICAgICBjb21wbGV0ZWRJdGVtID0gaXRlbS50aGVuKHJlc29sdmVkID0+IGNvbXBsZXRlVmFsdWUoZXhlQ29udGV4dCwgaXRlbVR5cGUsIGZpZWxkTm9kZXMsIGluZm8sIGl0ZW1QYXRoLCByZXNvbHZlZCwgYXN5bmNQYXlsb2FkUmVjb3JkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21wbGV0ZWRJdGVtID0gY29tcGxldGVWYWx1ZShleGVDb250ZXh0LCBpdGVtVHlwZSwgZmllbGROb2RlcywgaW5mbywgaXRlbVBhdGgsIGl0ZW0sIGFzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShjb21wbGV0ZWRJdGVtKSkge1xuICAgICAgICAgICAgLy8gTm90ZTogd2UgZG9uJ3QgcmVseSBvbiBhIGBjYXRjaGAgbWV0aG9kLCBidXQgd2UgZG8gZXhwZWN0IFwidGhlbmFibGVcIlxuICAgICAgICAgICAgLy8gdG8gdGFrZSBhIHNlY29uZCBjYWxsYmFjayBmb3IgdGhlIGVycm9yIGNhc2UuXG4gICAgICAgICAgICBjb21wbGV0ZWRSZXN1bHRzLnB1c2goY29tcGxldGVkSXRlbS50aGVuKHVuZGVmaW5lZCwgcmF3RXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbG9jYXRlZEVycm9yKHJhd0Vycm9yLCBmaWVsZE5vZGVzLCBwYXRoVG9BcnJheShpdGVtUGF0aCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZWRFcnJvciA9IGhhbmRsZUZpZWxkRXJyb3IoZXJyb3IsIGl0ZW1UeXBlLCBlcnJvcnMpO1xuICAgICAgICAgICAgICAgIGZpbHRlclN1YnNlcXVlbnRQYXlsb2FkcyhleGVDb250ZXh0LCBpdGVtUGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlZEVycm9yO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVkUmVzdWx0cy5wdXNoKGNvbXBsZXRlZEl0ZW0pO1xuICAgIH1cbiAgICBjYXRjaCAocmF3RXJyb3IpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBsb2NhdGVkRXJyb3IocmF3RXJyb3IsIGZpZWxkTm9kZXMsIHBhdGhUb0FycmF5KGl0ZW1QYXRoKSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZWRFcnJvciA9IGhhbmRsZUZpZWxkRXJyb3IoZXJyb3IsIGl0ZW1UeXBlLCBlcnJvcnMpO1xuICAgICAgICBmaWx0ZXJTdWJzZXF1ZW50UGF5bG9hZHMoZXhlQ29udGV4dCwgaXRlbVBhdGgsIGFzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgIGNvbXBsZXRlZFJlc3VsdHMucHVzaChoYW5kbGVkRXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENvbXBsZXRlIGEgU2NhbGFyIG9yIEVudW0gYnkgc2VyaWFsaXppbmcgdG8gYSB2YWxpZCB2YWx1ZSwgcmV0dXJuaW5nXG4gKiBudWxsIGlmIHNlcmlhbGl6YXRpb24gaXMgbm90IHBvc3NpYmxlLlxuICovXG5mdW5jdGlvbiBjb21wbGV0ZUxlYWZWYWx1ZShyZXR1cm5UeXBlLCByZXN1bHQpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkUmVzdWx0ID0gcmV0dXJuVHlwZS5zZXJpYWxpemUocmVzdWx0KTtcbiAgICBpZiAoc2VyaWFsaXplZFJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgXFxgJHtpbnNwZWN0KHJldHVyblR5cGUpfS5zZXJpYWxpemUoJHtpbnNwZWN0KHJlc3VsdCl9KVxcYCB0byBgICtcbiAgICAgICAgICAgIGByZXR1cm4gbm9uLW51bGxhYmxlIHZhbHVlLCByZXR1cm5lZDogJHtpbnNwZWN0KHNlcmlhbGl6ZWRSZXN1bHQpfWApO1xuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplZFJlc3VsdDtcbn1cbi8qKlxuICogQ29tcGxldGUgYSB2YWx1ZSBvZiBhbiBhYnN0cmFjdCB0eXBlIGJ5IGRldGVybWluaW5nIHRoZSBydW50aW1lIG9iamVjdCB0eXBlXG4gKiBvZiB0aGF0IHZhbHVlLCB0aGVuIGNvbXBsZXRlIHRoZSB2YWx1ZSBmb3IgdGhhdCB0eXBlLlxuICovXG5mdW5jdGlvbiBjb21wbGV0ZUFic3RyYWN0VmFsdWUoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgaW5mbywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgcmVzb2x2ZVR5cGVGbiA9IChfYSA9IHJldHVyblR5cGUucmVzb2x2ZVR5cGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4ZUNvbnRleHQudHlwZVJlc29sdmVyO1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IGV4ZUNvbnRleHQuY29udGV4dFZhbHVlO1xuICAgIGNvbnN0IHJ1bnRpbWVUeXBlID0gcmVzb2x2ZVR5cGVGbihyZXN1bHQsIGNvbnRleHRWYWx1ZSwgaW5mbywgcmV0dXJuVHlwZSk7XG4gICAgaWYgKGlzUHJvbWlzZShydW50aW1lVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHJ1bnRpbWVUeXBlLnRoZW4ocmVzb2x2ZWRSdW50aW1lVHlwZSA9PiBjb21wbGV0ZU9iamVjdFZhbHVlKGV4ZUNvbnRleHQsIGVuc3VyZVZhbGlkUnVudGltZVR5cGUocmVzb2x2ZWRSdW50aW1lVHlwZSwgZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgaW5mbywgcmVzdWx0KSwgZmllbGROb2RlcywgaW5mbywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBsZXRlT2JqZWN0VmFsdWUoZXhlQ29udGV4dCwgZW5zdXJlVmFsaWRSdW50aW1lVHlwZShydW50aW1lVHlwZSwgZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgaW5mbywgcmVzdWx0KSwgZmllbGROb2RlcywgaW5mbywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpO1xufVxuZnVuY3Rpb24gZW5zdXJlVmFsaWRSdW50aW1lVHlwZShydW50aW1lVHlwZU5hbWUsIGV4ZUNvbnRleHQsIHJldHVyblR5cGUsIGZpZWxkTm9kZXMsIGluZm8sIHJlc3VsdCkge1xuICAgIGlmIChydW50aW1lVHlwZU5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVHcmFwaFFMRXJyb3IoYEFic3RyYWN0IHR5cGUgXCIke3JldHVyblR5cGUubmFtZX1cIiBtdXN0IHJlc29sdmUgdG8gYW4gT2JqZWN0IHR5cGUgYXQgcnVudGltZSBmb3IgZmllbGQgXCIke2luZm8ucGFyZW50VHlwZS5uYW1lfS4ke2luZm8uZmllbGROYW1lfVwiLiBFaXRoZXIgdGhlIFwiJHtyZXR1cm5UeXBlLm5hbWV9XCIgdHlwZSBzaG91bGQgcHJvdmlkZSBhIFwicmVzb2x2ZVR5cGVcIiBmdW5jdGlvbiBvciBlYWNoIHBvc3NpYmxlIHR5cGUgc2hvdWxkIHByb3ZpZGUgYW4gXCJpc1R5cGVPZlwiIGZ1bmN0aW9uLmAsIHsgbm9kZXM6IGZpZWxkTm9kZXMgfSk7XG4gICAgfVxuICAgIC8vIHJlbGVhc2VzIGJlZm9yZSAxNi4wLjAgc3VwcG9ydGVkIHJldHVybmluZyBgR3JhcGhRTE9iamVjdFR5cGVgIGZyb20gYHJlc29sdmVUeXBlYFxuICAgIC8vIFRPRE86IHJlbW92ZSBpbiAxNy4wLjAgcmVsZWFzZVxuICAgIGlmIChpc09iamVjdFR5cGUocnVudGltZVR5cGVOYW1lKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVHcmFwaFFMRXJyb3IoJ1N1cHBvcnQgZm9yIHJldHVybmluZyBHcmFwaFFMT2JqZWN0VHlwZSBmcm9tIHJlc29sdmVUeXBlIHdhcyByZW1vdmVkIGluIGdyYXBocWwtanNAMTYuMC4wIHBsZWFzZSByZXR1cm4gdHlwZSBuYW1lIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcnVudGltZVR5cGVOYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBjcmVhdGVHcmFwaFFMRXJyb3IoYEFic3RyYWN0IHR5cGUgXCIke3JldHVyblR5cGUubmFtZX1cIiBtdXN0IHJlc29sdmUgdG8gYW4gT2JqZWN0IHR5cGUgYXQgcnVudGltZSBmb3IgZmllbGQgXCIke2luZm8ucGFyZW50VHlwZS5uYW1lfS4ke2luZm8uZmllbGROYW1lfVwiIHdpdGggYCArXG4gICAgICAgICAgICBgdmFsdWUgJHtpbnNwZWN0KHJlc3VsdCl9LCByZWNlaXZlZCBcIiR7aW5zcGVjdChydW50aW1lVHlwZU5hbWUpfVwiLmApO1xuICAgIH1cbiAgICBjb25zdCBydW50aW1lVHlwZSA9IGV4ZUNvbnRleHQuc2NoZW1hLmdldFR5cGUocnVudGltZVR5cGVOYW1lKTtcbiAgICBpZiAocnVudGltZVR5cGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVHcmFwaFFMRXJyb3IoYEFic3RyYWN0IHR5cGUgXCIke3JldHVyblR5cGUubmFtZX1cIiB3YXMgcmVzb2x2ZWQgdG8gYSB0eXBlIFwiJHtydW50aW1lVHlwZU5hbWV9XCIgdGhhdCBkb2VzIG5vdCBleGlzdCBpbnNpZGUgdGhlIHNjaGVtYS5gLCB7IG5vZGVzOiBmaWVsZE5vZGVzIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzT2JqZWN0VHlwZShydW50aW1lVHlwZSkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlR3JhcGhRTEVycm9yKGBBYnN0cmFjdCB0eXBlIFwiJHtyZXR1cm5UeXBlLm5hbWV9XCIgd2FzIHJlc29sdmVkIHRvIGEgbm9uLW9iamVjdCB0eXBlIFwiJHtydW50aW1lVHlwZU5hbWV9XCIuYCwgeyBub2RlczogZmllbGROb2RlcyB9KTtcbiAgICB9XG4gICAgaWYgKCFleGVDb250ZXh0LnNjaGVtYS5pc1N1YlR5cGUocmV0dXJuVHlwZSwgcnVudGltZVR5cGUpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUdyYXBoUUxFcnJvcihgUnVudGltZSBPYmplY3QgdHlwZSBcIiR7cnVudGltZVR5cGUubmFtZX1cIiBpcyBub3QgYSBwb3NzaWJsZSB0eXBlIGZvciBcIiR7cmV0dXJuVHlwZS5uYW1lfVwiLmAsIHsgbm9kZXM6IGZpZWxkTm9kZXMgfSk7XG4gICAgfVxuICAgIHJldHVybiBydW50aW1lVHlwZTtcbn1cbi8qKlxuICogQ29tcGxldGUgYW4gT2JqZWN0IHZhbHVlIGJ5IGV4ZWN1dGluZyBhbGwgc3ViLXNlbGVjdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGNvbXBsZXRlT2JqZWN0VmFsdWUoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgaW5mbywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBpc1R5cGVPZiBwcmVkaWNhdGUgZnVuY3Rpb24sIGNhbGwgaXQgd2l0aCB0aGVcbiAgICAvLyBjdXJyZW50IHJlc3VsdC4gSWYgaXNUeXBlT2YgcmV0dXJucyBmYWxzZSwgdGhlbiByYWlzZSBhbiBlcnJvciByYXRoZXJcbiAgICAvLyB0aGFuIGNvbnRpbnVpbmcgZXhlY3V0aW9uLlxuICAgIGlmIChyZXR1cm5UeXBlLmlzVHlwZU9mKSB7XG4gICAgICAgIGNvbnN0IGlzVHlwZU9mID0gcmV0dXJuVHlwZS5pc1R5cGVPZihyZXN1bHQsIGV4ZUNvbnRleHQuY29udGV4dFZhbHVlLCBpbmZvKTtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShpc1R5cGVPZikpIHtcbiAgICAgICAgICAgIHJldHVybiBpc1R5cGVPZi50aGVuKHJlc29sdmVkSXNUeXBlT2YgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWRJc1R5cGVPZikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbnZhbGlkUmV0dXJuVHlwZUVycm9yKHJldHVyblR5cGUsIHJlc3VsdCwgZmllbGROb2Rlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0QW5kRXhlY3V0ZVN1YmZpZWxkcyhleGVDb250ZXh0LCByZXR1cm5UeXBlLCBmaWVsZE5vZGVzLCBwYXRoLCByZXN1bHQsIGFzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVHlwZU9mKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkUmV0dXJuVHlwZUVycm9yKHJldHVyblR5cGUsIHJlc3VsdCwgZmllbGROb2Rlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3RBbmRFeGVjdXRlU3ViZmllbGRzKGV4ZUNvbnRleHQsIHJldHVyblR5cGUsIGZpZWxkTm9kZXMsIHBhdGgsIHJlc3VsdCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbn1cbmZ1bmN0aW9uIGludmFsaWRSZXR1cm5UeXBlRXJyb3IocmV0dXJuVHlwZSwgcmVzdWx0LCBmaWVsZE5vZGVzKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUdyYXBoUUxFcnJvcihgRXhwZWN0ZWQgdmFsdWUgb2YgdHlwZSBcIiR7cmV0dXJuVHlwZS5uYW1lfVwiIGJ1dCBnb3Q6ICR7aW5zcGVjdChyZXN1bHQpfS5gLCB7XG4gICAgICAgIG5vZGVzOiBmaWVsZE5vZGVzLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gY29sbGVjdEFuZEV4ZWN1dGVTdWJmaWVsZHMoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgZmllbGROb2RlcywgcGF0aCwgcmVzdWx0LCBhc3luY1BheWxvYWRSZWNvcmQpIHtcbiAgICAvLyBDb2xsZWN0IHN1Yi1maWVsZHMgdG8gZXhlY3V0ZSB0byBjb21wbGV0ZSB0aGlzIHZhbHVlLlxuICAgIGNvbnN0IHsgZmllbGRzOiBzdWJGaWVsZE5vZGVzLCBwYXRjaGVzOiBzdWJQYXRjaGVzIH0gPSBjb2xsZWN0U3ViZmllbGRzKGV4ZUNvbnRleHQsIHJldHVyblR5cGUsIGZpZWxkTm9kZXMpO1xuICAgIGNvbnN0IHN1YkZpZWxkcyA9IGV4ZWN1dGVGaWVsZHMoZXhlQ29udGV4dCwgcmV0dXJuVHlwZSwgcmVzdWx0LCBwYXRoLCBzdWJGaWVsZE5vZGVzLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgIGZvciAoY29uc3Qgc3ViUGF0Y2ggb2Ygc3ViUGF0Y2hlcykge1xuICAgICAgICBjb25zdCB7IGxhYmVsLCBmaWVsZHM6IHN1YlBhdGNoRmllbGROb2RlcyB9ID0gc3ViUGF0Y2g7XG4gICAgICAgIGV4ZWN1dGVEZWZlcnJlZEZyYWdtZW50KGV4ZUNvbnRleHQsIHJldHVyblR5cGUsIHJlc3VsdCwgc3ViUGF0Y2hGaWVsZE5vZGVzLCBsYWJlbCwgcGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YkZpZWxkcztcbn1cbi8qKlxuICogSWYgYSByZXNvbHZlVHlwZSBmdW5jdGlvbiBpcyBub3QgZ2l2ZW4sIHRoZW4gYSBkZWZhdWx0IHJlc29sdmUgYmVoYXZpb3IgaXNcbiAqIHVzZWQgd2hpY2ggYXR0ZW1wdHMgdHdvIHN0cmF0ZWdpZXM6XG4gKlxuICogRmlyc3QsIFNlZSBpZiB0aGUgcHJvdmlkZWQgdmFsdWUgaGFzIGEgYF9fdHlwZW5hbWVgIGZpZWxkIGRlZmluZWQsIGlmIHNvLCB1c2VcbiAqIHRoYXQgdmFsdWUgYXMgbmFtZSBvZiB0aGUgcmVzb2x2ZWQgdHlwZS5cbiAqXG4gKiBPdGhlcndpc2UsIHRlc3QgZWFjaCBwb3NzaWJsZSB0eXBlIGZvciB0aGUgYWJzdHJhY3QgdHlwZSBieSBjYWxsaW5nXG4gKiBpc1R5cGVPZiBmb3IgdGhlIG9iamVjdCBiZWluZyBjb2VyY2VkLCByZXR1cm5pbmcgdGhlIGZpcnN0IHR5cGUgdGhhdCBtYXRjaGVzLlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFR5cGVSZXNvbHZlciA9IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dFZhbHVlLCBpbmZvLCBhYnN0cmFjdFR5cGUpIHtcbiAgICAvLyBGaXJzdCwgbG9vayBmb3IgYF9fdHlwZW5hbWVgLlxuICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmIHR5cGVvZiB2YWx1ZVsnX190eXBlbmFtZSddID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWVbJ19fdHlwZW5hbWUnXTtcbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCB0ZXN0IGVhY2ggcG9zc2libGUgdHlwZS5cbiAgICBjb25zdCBwb3NzaWJsZVR5cGVzID0gaW5mby5zY2hlbWEuZ2V0UG9zc2libGVUeXBlcyhhYnN0cmFjdFR5cGUpO1xuICAgIGNvbnN0IHByb21pc2VkSXNUeXBlT2ZSZXN1bHRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NzaWJsZVR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBwb3NzaWJsZVR5cGVzW2ldO1xuICAgICAgICBpZiAodHlwZS5pc1R5cGVPZikge1xuICAgICAgICAgICAgY29uc3QgaXNUeXBlT2ZSZXN1bHQgPSB0eXBlLmlzVHlwZU9mKHZhbHVlLCBjb250ZXh0VmFsdWUsIGluZm8pO1xuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShpc1R5cGVPZlJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlZElzVHlwZU9mUmVzdWx0c1tpXSA9IGlzVHlwZU9mUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNUeXBlT2ZSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9taXNlZElzVHlwZU9mUmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VkSXNUeXBlT2ZSZXN1bHRzKS50aGVuKGlzVHlwZU9mUmVzdWx0cyA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlzVHlwZU9mUmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpc1R5cGVPZlJlc3VsdHNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlVHlwZXNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4vKipcbiAqIElmIGEgcmVzb2x2ZSBmdW5jdGlvbiBpcyBub3QgZ2l2ZW4sIHRoZW4gYSBkZWZhdWx0IHJlc29sdmUgYmVoYXZpb3IgaXMgdXNlZFxuICogd2hpY2ggdGFrZXMgdGhlIHByb3BlcnR5IG9mIHRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGZpZWxkXG4gKiBhbmQgcmV0dXJucyBpdCBhcyB0aGUgcmVzdWx0LCBvciBpZiBpdCdzIGEgZnVuY3Rpb24sIHJldHVybnMgdGhlIHJlc3VsdFxuICogb2YgY2FsbGluZyB0aGF0IGZ1bmN0aW9uIHdoaWxlIHBhc3NpbmcgYWxvbmcgYXJncyBhbmQgY29udGV4dCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRGaWVsZFJlc29sdmVyID0gZnVuY3Rpb24gKHNvdXJjZSwgYXJncywgY29udGV4dFZhbHVlLCBpbmZvKSB7XG4gICAgLy8gZW5zdXJlIHNvdXJjZSBpcyBhIHZhbHVlIGZvciB3aGljaCBwcm9wZXJ0eSBhY2Nlc3MgaXMgYWNjZXB0YWJsZS5cbiAgICBpZiAoaXNPYmplY3RMaWtlKHNvdXJjZSkgfHwgdHlwZW9mIHNvdXJjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IHNvdXJjZVtpbmZvLmZpZWxkTmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VbaW5mby5maWVsZE5hbWVdKGFyZ3MsIGNvbnRleHRWYWx1ZSwgaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbn07XG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwiU3Vic2NyaWJlXCIgYWxnb3JpdGhtIGRlc2NyaWJlZCBpbiB0aGUgR3JhcGhRTCBzcGVjaWZpY2F0aW9uLFxuICogaW5jbHVkaW5nIGBAZGVmZXJgIGFuZCBgQHN0cmVhbWAgYXMgcHJvcG9zZWQgaW5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2dyYXBocWwtc3BlYy9wdWxsLzc0MlxuICpcbiAqIFJldHVybnMgYSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIGVpdGhlciBhbiBBc3luY0l0ZXJhdG9yIChpZiBzdWNjZXNzZnVsKVxuICogb3IgYW4gRXhlY3V0aW9uUmVzdWx0IChlcnJvcikuIFRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaWYgdGhlIHNjaGVtYSBvclxuICogb3RoZXIgYXJndW1lbnRzIHRvIHRoaXMgZnVuY3Rpb24gYXJlIGludmFsaWQsIG9yIGlmIHRoZSByZXNvbHZlZCBldmVudCBzdHJlYW1cbiAqIGlzIG5vdCBhbiBhc3luYyBpdGVyYWJsZS5cbiAqXG4gKiBJZiB0aGUgY2xpZW50LXByb3ZpZGVkIGFyZ3VtZW50cyB0byB0aGlzIGZ1bmN0aW9uIGRvIG5vdCByZXN1bHQgaW4gYVxuICogY29tcGxpYW50IHN1YnNjcmlwdGlvbiwgYSBHcmFwaFFMIFJlc3BvbnNlIChFeGVjdXRpb25SZXN1bHQpIHdpdGggZGVzY3JpcHRpdmVcbiAqIGVycm9ycyBhbmQgbm8gZGF0YSB3aWxsIGJlIHJldHVybmVkLlxuICpcbiAqIElmIHRoZSBzb3VyY2Ugc3RyZWFtIGNvdWxkIG5vdCBiZSBjcmVhdGVkIGR1ZSB0byBmYXVsdHkgc3Vic2NyaXB0aW9uIHJlc29sdmVyXG4gKiBsb2dpYyBvciB1bmRlcmx5aW5nIHN5c3RlbXMsIHRoZSBwcm9taXNlIHdpbGwgcmVzb2x2ZSB0byBhIHNpbmdsZVxuICogRXhlY3V0aW9uUmVzdWx0IGNvbnRhaW5pbmcgYGVycm9yc2AgYW5kIG5vIGBkYXRhYC5cbiAqXG4gKiBJZiB0aGUgb3BlcmF0aW9uIHN1Y2NlZWRlZCwgdGhlIHByb21pc2UgcmVzb2x2ZXMgdG8gYW4gQXN5bmNJdGVyYXRvciwgd2hpY2hcbiAqIHlpZWxkcyBhIHN0cmVhbSBvZiByZXN1bHQgcmVwcmVzZW50aW5nIHRoZSByZXNwb25zZSBzdHJlYW0uXG4gKlxuICogRWFjaCByZXN1bHQgbWF5IGJlIGFuIEV4ZWN1dGlvblJlc3VsdCB3aXRoIG5vIGBoYXNOZXh0YCAoaWYgZXhlY3V0aW5nIHRoZVxuICogZXZlbnQgZGlkIG5vdCB1c2UgYEBkZWZlcmAgb3IgYEBzdHJlYW1gKSwgb3IgYW5cbiAqIGBJbml0aWFsSW5jcmVtZW50YWxFeGVjdXRpb25SZXN1bHRgIG9yIGBTdWJzZXF1ZW50SW5jcmVtZW50YWxFeGVjdXRpb25SZXN1bHRgXG4gKiAoaWYgZXhlY3V0aW5nIHRoZSBldmVudCB1c2VkIGBAZGVmZXJgIG9yIGBAc3RyZWFtYCkuIEluIHRoZSBjYXNlIG9mXG4gKiBpbmNyZW1lbnRhbCBleGVjdXRpb24gcmVzdWx0cywgZWFjaCBldmVudCBwcm9kdWNlcyBhIHNpbmdsZVxuICogYEluaXRpYWxJbmNyZW1lbnRhbEV4ZWN1dGlvblJlc3VsdGAgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmVcbiAqIGBTdWJzZXF1ZW50SW5jcmVtZW50YWxFeGVjdXRpb25SZXN1bHRgczsgYWxsIGJ1dCB0aGUgbGFzdCBoYXZlIGBoYXNOZXh0OiB0cnVlYCxcbiAqIGFuZCB0aGUgbGFzdCBoYXMgYGhhc05leHQ6IGZhbHNlYC4gVGhlcmUgaXMgbm8gaW50ZXJsZWF2aW5nIGJldHdlZW4gcmVzdWx0c1xuICogZ2VuZXJhdGVkIGZyb20gdGhlIHNhbWUgb3JpZ2luYWwgZXZlbnQuXG4gKlxuICogQWNjZXB0cyBhbiBvYmplY3Qgd2l0aCBuYW1lZCBhcmd1bWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmUoYXJncykge1xuICAgIC8vIElmIGEgdmFsaWQgZXhlY3V0aW9uIGNvbnRleHQgY2Fubm90IGJlIGNyZWF0ZWQgZHVlIHRvIGluY29ycmVjdCBhcmd1bWVudHMsXG4gICAgLy8gYSBcIlJlc3BvbnNlXCIgd2l0aCBvbmx5IGVycm9ycyBpcyByZXR1cm5lZC5cbiAgICBjb25zdCBleGVDb250ZXh0ID0gYnVpbGRFeGVjdXRpb25Db250ZXh0KGFyZ3MpO1xuICAgIC8vIFJldHVybiBlYXJseSBlcnJvcnMgaWYgZXhlY3V0aW9uIGNvbnRleHQgZmFpbGVkLlxuICAgIGlmICghKCdzY2hlbWEnIGluIGV4ZUNvbnRleHQpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlcnJvcnM6IGV4ZUNvbnRleHQubWFwKGUgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgJ2V4dGVuc2lvbnMnLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5lLmV4dGVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKF9hID0gZS5leHRlbnNpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbJ2h0dHAnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0T3JTdHJlYW0gPSBjcmVhdGVTb3VyY2VFdmVudFN0cmVhbUltcGwoZXhlQ29udGV4dCk7XG4gICAgaWYgKGlzUHJvbWlzZShyZXN1bHRPclN0cmVhbSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdE9yU3RyZWFtLnRoZW4ocmVzb2x2ZWRSZXN1bHRPclN0cmVhbSA9PiBtYXBTb3VyY2VUb1Jlc3BvbnNlKGV4ZUNvbnRleHQsIHJlc29sdmVkUmVzdWx0T3JTdHJlYW0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcFNvdXJjZVRvUmVzcG9uc2UoZXhlQ29udGV4dCwgcmVzdWx0T3JTdHJlYW0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5JbmNyZW1lbnRhbFJlc3VsdHMoaW5jcmVtZW50YWxSZXN1bHRzKSB7XG4gICAgY29uc3Qgc3Vic2VxdWVudEl0ZXJhdG9yID0gaW5jcmVtZW50YWxSZXN1bHRzLnN1YnNlcXVlbnRSZXN1bHRzO1xuICAgIGxldCBpbml0aWFsUmVzdWx0U2VudCA9IGZhbHNlO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBuZXh0KCkge1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBkb25lLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5pdGlhbFJlc3VsdFNlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2VxdWVudEl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluaXRpYWxSZXN1bHRTZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpbmNyZW1lbnRhbFJlc3VsdHMuaW5pdGlhbFJlc3VsdCxcbiAgICAgICAgICAgICAgICBkb25lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJldHVybigpIHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNlcXVlbnRJdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhyb3coZXJyb3IpIHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNlcXVlbnRJdGVyYXRvci50aHJvdyhlcnJvcik7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uKiBlbnN1cmVBc3luY0l0ZXJhYmxlKHNvbWVFeGVjdXRpb25SZXN1bHQpIHtcbiAgICBpZiAoJ2luaXRpYWxSZXN1bHQnIGluIHNvbWVFeGVjdXRpb25SZXN1bHQpIHtcbiAgICAgICAgeWllbGQqIGZsYXR0ZW5JbmNyZW1lbnRhbFJlc3VsdHMoc29tZUV4ZWN1dGlvblJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB5aWVsZCBzb21lRXhlY3V0aW9uUmVzdWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFNvdXJjZVRvUmVzcG9uc2UoZXhlQ29udGV4dCwgcmVzdWx0T3JTdHJlYW0pIHtcbiAgICBpZiAoIWlzQXN5bmNJdGVyYWJsZShyZXN1bHRPclN0cmVhbSkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdE9yU3RyZWFtO1xuICAgIH1cbiAgICAvLyBGb3IgZWFjaCBwYXlsb2FkIHlpZWxkZWQgZnJvbSBhIHN1YnNjcmlwdGlvbiwgbWFwIGl0IG92ZXIgdGhlIG5vcm1hbFxuICAgIC8vIEdyYXBoUUwgYGV4ZWN1dGVgIGZ1bmN0aW9uLCB3aXRoIGBwYXlsb2FkYCBhcyB0aGUgcm9vdFZhbHVlLlxuICAgIC8vIFRoaXMgaW1wbGVtZW50cyB0aGUgXCJNYXBTb3VyY2VUb1Jlc3BvbnNlRXZlbnRcIiBhbGdvcml0aG0gZGVzY3JpYmVkIGluXG4gICAgLy8gdGhlIEdyYXBoUUwgc3BlY2lmaWNhdGlvbi4gVGhlIGBleGVjdXRlYCBmdW5jdGlvbiBwcm92aWRlcyB0aGVcbiAgICAvLyBcIkV4ZWN1dGVTdWJzY3JpcHRpb25FdmVudFwiIGFsZ29yaXRobSwgYXMgaXQgaXMgbmVhcmx5IGlkZW50aWNhbCB0byB0aGVcbiAgICAvLyBcIkV4ZWN1dGVRdWVyeVwiIGFsZ29yaXRobSwgZm9yIHdoaWNoIGBleGVjdXRlYCBpcyBhbHNvIHVzZWQuXG4gICAgcmV0dXJuIGZsYXR0ZW5Bc3luY0l0ZXJhYmxlKG1hcEFzeW5jSXRlcmF0b3IocmVzdWx0T3JTdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCksIGFzeW5jIChwYXlsb2FkKSA9PiBlbnN1cmVBc3luY0l0ZXJhYmxlKGF3YWl0IGV4ZWN1dGVJbXBsKGJ1aWxkUGVyRXZlbnRFeGVjdXRpb25Db250ZXh0KGV4ZUNvbnRleHQsIHBheWxvYWQpKSksIGFzeW5jIGZ1bmN0aW9uKiAoZXJyb3IpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZEVycm9yID0gY3JlYXRlR3JhcGhRTEVycm9yKGVycm9yLm1lc3NhZ2UsIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgbm9kZXM6IFtleGVDb250ZXh0Lm9wZXJhdGlvbl0sXG4gICAgICAgIH0pO1xuICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICBlcnJvcnM6IFt3cmFwcGVkRXJyb3JdLFxuICAgICAgICB9O1xuICAgIH0pKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZUV2ZW50U3RyZWFtSW1wbChleGVDb250ZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXZlbnRTdHJlYW0gPSBleGVjdXRlU3Vic2NyaXB0aW9uKGV4ZUNvbnRleHQpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKGV2ZW50U3RyZWFtKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50U3RyZWFtLnRoZW4odW5kZWZpbmVkLCBlcnJvciA9PiAoeyBlcnJvcnM6IFtlcnJvcl0gfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudFN0cmVhbTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7IGVycm9yczogW2Vycm9yXSB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWN1dGVTdWJzY3JpcHRpb24oZXhlQ29udGV4dCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IHNjaGVtYSwgZnJhZ21lbnRzLCBvcGVyYXRpb24sIHZhcmlhYmxlVmFsdWVzLCByb290VmFsdWUgfSA9IGV4ZUNvbnRleHQ7XG4gICAgY29uc3Qgcm9vdFR5cGUgPSBzY2hlbWEuZ2V0U3Vic2NyaXB0aW9uVHlwZSgpO1xuICAgIGlmIChyb290VHlwZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUdyYXBoUUxFcnJvcignU2NoZW1hIGlzIG5vdCBjb25maWd1cmVkIHRvIGV4ZWN1dGUgc3Vic2NyaXB0aW9uIG9wZXJhdGlvbi4nLCB7IG5vZGVzOiBvcGVyYXRpb24gfSk7XG4gICAgfVxuICAgIGNvbnN0IHsgZmllbGRzOiByb290RmllbGRzIH0gPSBjb2xsZWN0RmllbGRzKHNjaGVtYSwgZnJhZ21lbnRzLCB2YXJpYWJsZVZhbHVlcywgcm9vdFR5cGUsIG9wZXJhdGlvbi5zZWxlY3Rpb25TZXQpO1xuICAgIGNvbnN0IFtyZXNwb25zZU5hbWUsIGZpZWxkTm9kZXNdID0gWy4uLnJvb3RGaWVsZHMuZW50cmllcygpXVswXTtcbiAgICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZE5vZGVzWzBdLm5hbWUudmFsdWU7XG4gICAgY29uc3QgZmllbGREZWYgPSBnZXRGaWVsZERlZihzY2hlbWEsIHJvb3RUeXBlLCBmaWVsZE5vZGVzWzBdKTtcbiAgICBpZiAoIWZpZWxkRGVmKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUdyYXBoUUxFcnJvcihgVGhlIHN1YnNjcmlwdGlvbiBmaWVsZCBcIiR7ZmllbGROYW1lfVwiIGlzIG5vdCBkZWZpbmVkLmAsIHsgbm9kZXM6IGZpZWxkTm9kZXMgfSk7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBhZGRQYXRoKHVuZGVmaW5lZCwgcmVzcG9uc2VOYW1lLCByb290VHlwZS5uYW1lKTtcbiAgICBjb25zdCBpbmZvID0gYnVpbGRSZXNvbHZlSW5mbyhleGVDb250ZXh0LCBmaWVsZERlZiwgZmllbGROb2Rlcywgcm9vdFR5cGUsIHBhdGgpO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEltcGxlbWVudHMgdGhlIFwiUmVzb2x2ZUZpZWxkRXZlbnRTdHJlYW1cIiBhbGdvcml0aG0gZnJvbSBHcmFwaFFMIHNwZWNpZmljYXRpb24uXG4gICAgICAgIC8vIEl0IGRpZmZlcnMgZnJvbSBcIlJlc29sdmVGaWVsZFZhbHVlXCIgZHVlIHRvIHByb3ZpZGluZyBhIGRpZmZlcmVudCBgcmVzb2x2ZUZuYC5cbiAgICAgICAgLy8gQnVpbGQgYSBKUyBvYmplY3Qgb2YgYXJndW1lbnRzIGZyb20gdGhlIGZpZWxkLmFyZ3VtZW50cyBBU1QsIHVzaW5nIHRoZVxuICAgICAgICAvLyB2YXJpYWJsZXMgc2NvcGUgdG8gZnVsZmlsbCBhbnkgdmFyaWFibGUgcmVmZXJlbmNlcy5cbiAgICAgICAgY29uc3QgYXJncyA9IGdldEFyZ3VtZW50VmFsdWVzKGZpZWxkRGVmLCBmaWVsZE5vZGVzWzBdLCB2YXJpYWJsZVZhbHVlcyk7XG4gICAgICAgIC8vIFRoZSByZXNvbHZlIGZ1bmN0aW9uJ3Mgb3B0aW9uYWwgdGhpcmQgYXJndW1lbnQgaXMgYSBjb250ZXh0IHZhbHVlIHRoYXRcbiAgICAgICAgLy8gaXMgcHJvdmlkZWQgdG8gZXZlcnkgcmVzb2x2ZSBmdW5jdGlvbiB3aXRoaW4gYW4gZXhlY3V0aW9uLiBJdCBpcyBjb21tb25seVxuICAgICAgICAvLyB1c2VkIHRvIHJlcHJlc2VudCBhbiBhdXRoZW50aWNhdGVkIHVzZXIsIG9yIHJlcXVlc3Qtc3BlY2lmaWMgY2FjaGVzLlxuICAgICAgICBjb25zdCBjb250ZXh0VmFsdWUgPSBleGVDb250ZXh0LmNvbnRleHRWYWx1ZTtcbiAgICAgICAgLy8gQ2FsbCB0aGUgYHN1YnNjcmliZSgpYCByZXNvbHZlciBvciB0aGUgZGVmYXVsdCByZXNvbHZlciB0byBwcm9kdWNlIGFuXG4gICAgICAgIC8vIEFzeW5jSXRlcmFibGUgeWllbGRpbmcgcmF3IHBheWxvYWRzLlxuICAgICAgICBjb25zdCByZXNvbHZlRm4gPSAoX2EgPSBmaWVsZERlZi5zdWJzY3JpYmUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4ZUNvbnRleHQuc3Vic2NyaWJlRmllbGRSZXNvbHZlcjtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzb2x2ZUZuKHJvb3RWYWx1ZSwgYXJncywgY29udGV4dFZhbHVlLCBpbmZvKTtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oYXNzZXJ0RXZlbnRTdHJlYW0pLnRoZW4odW5kZWZpbmVkLCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbG9jYXRlZEVycm9yKGVycm9yLCBmaWVsZE5vZGVzLCBwYXRoVG9BcnJheShwYXRoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzZXJ0RXZlbnRTdHJlYW0ocmVzdWx0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IGxvY2F0ZWRFcnJvcihlcnJvciwgZmllbGROb2RlcywgcGF0aFRvQXJyYXkocGF0aCkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydEV2ZW50U3RyZWFtKHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgfVxuICAgIC8vIEFzc2VydCBmaWVsZCByZXR1cm5lZCBhbiBldmVudCBzdHJlYW0sIG90aGVyd2lzZSB5aWVsZCBhbiBlcnJvci5cbiAgICBpZiAoIWlzQXN5bmNJdGVyYWJsZShyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUdyYXBoUUxFcnJvcignU3Vic2NyaXB0aW9uIGZpZWxkIG11c3QgcmV0dXJuIEFzeW5jIEl0ZXJhYmxlLiAnICsgYFJlY2VpdmVkOiAke2luc3BlY3QocmVzdWx0KX0uYCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBleGVjdXRlRGVmZXJyZWRGcmFnbWVudChleGVDb250ZXh0LCBwYXJlbnRUeXBlLCBzb3VyY2VWYWx1ZSwgZmllbGRzLCBsYWJlbCwgcGF0aCwgcGFyZW50Q29udGV4dCkge1xuICAgIGNvbnN0IGFzeW5jUGF5bG9hZFJlY29yZCA9IG5ldyBEZWZlcnJlZEZyYWdtZW50UmVjb3JkKHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHBhcmVudENvbnRleHQsXG4gICAgICAgIGV4ZUNvbnRleHQsXG4gICAgfSk7XG4gICAgbGV0IHByb21pc2VPckRhdGE7XG4gICAgdHJ5IHtcbiAgICAgICAgcHJvbWlzZU9yRGF0YSA9IGV4ZWN1dGVGaWVsZHMoZXhlQ29udGV4dCwgcGFyZW50VHlwZSwgc291cmNlVmFsdWUsIHBhdGgsIGZpZWxkcywgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShwcm9taXNlT3JEYXRhKSkge1xuICAgICAgICAgICAgcHJvbWlzZU9yRGF0YSA9IHByb21pc2VPckRhdGEudGhlbihudWxsLCBlID0+IHtcbiAgICAgICAgICAgICAgICBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzLnB1c2goZSk7XG4gICAgICAgIHByb21pc2VPckRhdGEgPSBudWxsO1xuICAgIH1cbiAgICBhc3luY1BheWxvYWRSZWNvcmQuYWRkRGF0YShwcm9taXNlT3JEYXRhKTtcbn1cbmZ1bmN0aW9uIGV4ZWN1dGVTdHJlYW1GaWVsZChwYXRoLCBpdGVtUGF0aCwgaXRlbSwgZXhlQ29udGV4dCwgZmllbGROb2RlcywgaW5mbywgaXRlbVR5cGUsIGxhYmVsLCBwYXJlbnRDb250ZXh0KSB7XG4gICAgY29uc3QgYXN5bmNQYXlsb2FkUmVjb3JkID0gbmV3IFN0cmVhbVJlY29yZCh7XG4gICAgICAgIGxhYmVsLFxuICAgICAgICBwYXRoOiBpdGVtUGF0aCxcbiAgICAgICAgcGFyZW50Q29udGV4dCxcbiAgICAgICAgZXhlQ29udGV4dCxcbiAgICB9KTtcbiAgICBsZXQgY29tcGxldGVkSXRlbTtcbiAgICB0cnkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShpdGVtKSkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEl0ZW0gPSBpdGVtLnRoZW4ocmVzb2x2ZWQgPT4gY29tcGxldGVWYWx1ZShleGVDb250ZXh0LCBpdGVtVHlwZSwgZmllbGROb2RlcywgaW5mbywgaXRlbVBhdGgsIHJlc29sdmVkLCBhc3luY1BheWxvYWRSZWNvcmQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZEl0ZW0gPSBjb21wbGV0ZVZhbHVlKGV4ZUNvbnRleHQsIGl0ZW1UeXBlLCBmaWVsZE5vZGVzLCBpbmZvLCBpdGVtUGF0aCwgaXRlbSwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1Byb21pc2UoY29tcGxldGVkSXRlbSkpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiB3ZSBkb24ndCByZWx5IG9uIGEgYGNhdGNoYCBtZXRob2QsIGJ1dCB3ZSBkbyBleHBlY3QgXCJ0aGVuYWJsZVwiXG4gICAgICAgICAgICAgICAgLy8gdG8gdGFrZSBhIHNlY29uZCBjYWxsYmFjayBmb3IgdGhlIGVycm9yIGNhc2UuXG4gICAgICAgICAgICAgICAgY29tcGxldGVkSXRlbSA9IGNvbXBsZXRlZEl0ZW0udGhlbih1bmRlZmluZWQsIHJhd0Vycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBsb2NhdGVkRXJyb3IocmF3RXJyb3IsIGZpZWxkTm9kZXMsIHBhdGhUb0FycmF5KGl0ZW1QYXRoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZWRFcnJvciA9IGhhbmRsZUZpZWxkRXJyb3IoZXJyb3IsIGl0ZW1UeXBlLCBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyU3Vic2VxdWVudFBheWxvYWRzKGV4ZUNvbnRleHQsIGl0ZW1QYXRoLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlZEVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChyYXdFcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBsb2NhdGVkRXJyb3IocmF3RXJyb3IsIGZpZWxkTm9kZXMsIHBhdGhUb0FycmF5KGl0ZW1QYXRoKSk7XG4gICAgICAgICAgICBjb21wbGV0ZWRJdGVtID0gaGFuZGxlRmllbGRFcnJvcihlcnJvciwgaXRlbVR5cGUsIGFzeW5jUGF5bG9hZFJlY29yZC5lcnJvcnMpO1xuICAgICAgICAgICAgZmlsdGVyU3Vic2VxdWVudFBheWxvYWRzKGV4ZUNvbnRleHQsIGl0ZW1QYXRoLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICBmaWx0ZXJTdWJzZXF1ZW50UGF5bG9hZHMoZXhlQ29udGV4dCwgcGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgYXN5bmNQYXlsb2FkUmVjb3JkLmFkZEl0ZW1zKG51bGwpO1xuICAgICAgICByZXR1cm4gYXN5bmNQYXlsb2FkUmVjb3JkO1xuICAgIH1cbiAgICBsZXQgY29tcGxldGVkSXRlbXM7XG4gICAgaWYgKGlzUHJvbWlzZShjb21wbGV0ZWRJdGVtKSkge1xuICAgICAgICBjb21wbGV0ZWRJdGVtcyA9IGNvbXBsZXRlZEl0ZW0udGhlbih2YWx1ZSA9PiBbdmFsdWVdLCBlcnJvciA9PiB7XG4gICAgICAgICAgICBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgICAgZmlsdGVyU3Vic2VxdWVudFBheWxvYWRzKGV4ZUNvbnRleHQsIHBhdGgsIGFzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb21wbGV0ZWRJdGVtcyA9IFtjb21wbGV0ZWRJdGVtXTtcbiAgICB9XG4gICAgYXN5bmNQYXlsb2FkUmVjb3JkLmFkZEl0ZW1zKGNvbXBsZXRlZEl0ZW1zKTtcbiAgICByZXR1cm4gYXN5bmNQYXlsb2FkUmVjb3JkO1xufVxuYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVN0cmVhbUl0ZXJhdG9ySXRlbShpdGVyYXRvciwgZXhlQ29udGV4dCwgZmllbGROb2RlcywgaW5mbywgaXRlbVR5cGUsIGFzeW5jUGF5bG9hZFJlY29yZCwgaXRlbVBhdGgpIHtcbiAgICBsZXQgaXRlbTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBhc3luY1BheWxvYWRSZWNvcmQuc2V0SXNDb21wbGV0ZWRJdGVyYXRvcigpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZG9uZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0gPSB2YWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKHJhd0Vycm9yKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbG9jYXRlZEVycm9yKHJhd0Vycm9yLCBmaWVsZE5vZGVzLCBwYXRoVG9BcnJheShpdGVtUGF0aCkpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGhhbmRsZUZpZWxkRXJyb3IoZXJyb3IsIGl0ZW1UeXBlLCBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzKTtcbiAgICAgICAgLy8gZG9uJ3QgY29udGludWUgaWYgaXRlcmF0b3IgdGhyb3dzXG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlIH07XG4gICAgfVxuICAgIGxldCBjb21wbGV0ZWRJdGVtO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbXBsZXRlZEl0ZW0gPSBjb21wbGV0ZVZhbHVlKGV4ZUNvbnRleHQsIGl0ZW1UeXBlLCBmaWVsZE5vZGVzLCBpbmZvLCBpdGVtUGF0aCwgaXRlbSwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgaWYgKGlzUHJvbWlzZShjb21wbGV0ZWRJdGVtKSkge1xuICAgICAgICAgICAgY29tcGxldGVkSXRlbSA9IGNvbXBsZXRlZEl0ZW0udGhlbih1bmRlZmluZWQsIHJhd0Vycm9yID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGxvY2F0ZWRFcnJvcihyYXdFcnJvciwgZmllbGROb2RlcywgcGF0aFRvQXJyYXkoaXRlbVBhdGgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVkRXJyb3IgPSBoYW5kbGVGaWVsZEVycm9yKGVycm9yLCBpdGVtVHlwZSwgYXN5bmNQYXlsb2FkUmVjb3JkLmVycm9ycyk7XG4gICAgICAgICAgICAgICAgZmlsdGVyU3Vic2VxdWVudFBheWxvYWRzKGV4ZUNvbnRleHQsIGl0ZW1QYXRoLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVkRXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IGNvbXBsZXRlZEl0ZW0gfTtcbiAgICB9XG4gICAgY2F0Y2ggKHJhd0Vycm9yKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbG9jYXRlZEVycm9yKHJhd0Vycm9yLCBmaWVsZE5vZGVzLCBwYXRoVG9BcnJheShpdGVtUGF0aCkpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGhhbmRsZUZpZWxkRXJyb3IoZXJyb3IsIGl0ZW1UeXBlLCBhc3luY1BheWxvYWRSZWNvcmQuZXJyb3JzKTtcbiAgICAgICAgZmlsdGVyU3Vic2VxdWVudFBheWxvYWRzKGV4ZUNvbnRleHQsIGl0ZW1QYXRoLCBhc3luY1BheWxvYWRSZWNvcmQpO1xuICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWUgfTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBleGVjdXRlU3RyZWFtSXRlcmF0b3IoaW5pdGlhbEluZGV4LCBpdGVyYXRvciwgZXhlQ29udGV4dCwgZmllbGROb2RlcywgaW5mbywgaXRlbVR5cGUsIHBhdGgsIGxhYmVsLCBwYXJlbnRDb250ZXh0KSB7XG4gICAgbGV0IGluZGV4ID0gaW5pdGlhbEluZGV4O1xuICAgIGxldCBwcmV2aW91c0FzeW5jUGF5bG9hZFJlY29yZCA9IHBhcmVudENvbnRleHQgIT09IG51bGwgJiYgcGFyZW50Q29udGV4dCAhPT0gdm9pZCAwID8gcGFyZW50Q29udGV4dCA6IHVuZGVmaW5lZDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBpdGVtUGF0aCA9IGFkZFBhdGgocGF0aCwgaW5kZXgsIHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IGFzeW5jUGF5bG9hZFJlY29yZCA9IG5ldyBTdHJlYW1SZWNvcmQoe1xuICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICBwYXRoOiBpdGVtUGF0aCxcbiAgICAgICAgICAgIHBhcmVudENvbnRleHQ6IHByZXZpb3VzQXN5bmNQYXlsb2FkUmVjb3JkLFxuICAgICAgICAgICAgaXRlcmF0b3IsXG4gICAgICAgICAgICBleGVDb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGl0ZXJhdGlvbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGl0ZXJhdGlvbiA9IGF3YWl0IGV4ZWN1dGVTdHJlYW1JdGVyYXRvckl0ZW0oaXRlcmF0b3IsIGV4ZUNvbnRleHQsIGZpZWxkTm9kZXMsIGluZm8sIGl0ZW1UeXBlLCBhc3luY1BheWxvYWRSZWNvcmQsIGl0ZW1QYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFzeW5jUGF5bG9hZFJlY29yZC5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICBmaWx0ZXJTdWJzZXF1ZW50UGF5bG9hZHMoZXhlQ29udGV4dCwgcGF0aCwgYXN5bmNQYXlsb2FkUmVjb3JkKTtcbiAgICAgICAgICAgIGFzeW5jUGF5bG9hZFJlY29yZC5hZGRJdGVtcyhudWxsKTtcbiAgICAgICAgICAgIC8vIGVudGlyZSBzdHJlYW0gaGFzIGVycm9yZWQgYW5kIGJ1YmJsZWQgdXB3YXJkc1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yID09PSBudWxsIHx8IGl0ZXJhdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXR1cm4oKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlOiBjb21wbGV0ZWRJdGVtIH0gPSBpdGVyYXRpb247XG4gICAgICAgIGxldCBjb21wbGV0ZWRJdGVtcztcbiAgICAgICAgaWYgKGlzUHJvbWlzZShjb21wbGV0ZWRJdGVtKSkge1xuICAgICAgICAgICAgY29tcGxldGVkSXRlbXMgPSBjb21wbGV0ZWRJdGVtLnRoZW4odmFsdWUgPT4gW3ZhbHVlXSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGFzeW5jUGF5bG9hZFJlY29yZC5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICAgICAgZmlsdGVyU3Vic2VxdWVudFBheWxvYWRzKGV4ZUNvbnRleHQsIHBhdGgsIGFzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBsZXRlZEl0ZW1zID0gW2NvbXBsZXRlZEl0ZW1dO1xuICAgICAgICB9XG4gICAgICAgIGFzeW5jUGF5bG9hZFJlY29yZC5hZGRJdGVtcyhjb21wbGV0ZWRJdGVtcyk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c0FzeW5jUGF5bG9hZFJlY29yZCA9IGFzeW5jUGF5bG9hZFJlY29yZDtcbiAgICAgICAgaW5kZXgrKztcbiAgICB9XG59XG5mdW5jdGlvbiBmaWx0ZXJTdWJzZXF1ZW50UGF5bG9hZHMoZXhlQ29udGV4dCwgbnVsbFBhdGgsIGN1cnJlbnRBc3luY1JlY29yZCkge1xuICAgIGNvbnN0IG51bGxQYXRoQXJyYXkgPSBwYXRoVG9BcnJheShudWxsUGF0aCk7XG4gICAgZXhlQ29udGV4dC5zdWJzZXF1ZW50UGF5bG9hZHMuZm9yRWFjaChhc3luY1JlY29yZCA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGFzeW5jUmVjb3JkID09PSBjdXJyZW50QXN5bmNSZWNvcmQpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IHJlbW92ZSBwYXlsb2FkIGZyb20gd2hlcmUgZXJyb3Igb3JpZ2luYXRlc1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVsbFBhdGhBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFzeW5jUmVjb3JkLnBhdGhbaV0gIT09IG51bGxQYXRoQXJyYXlbaV0pIHtcbiAgICAgICAgICAgICAgICAvLyBhc3luY1JlY29yZCBwb2ludHMgdG8gYSBwYXRoIHVuYWZmZWN0ZWQgYnkgdGhpcyBwYXlsb2FkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFzeW5jUmVjb3JkIHBhdGggcG9pbnRzIHRvIG51bGxlZCBlcnJvciBmaWVsZFxuICAgICAgICBpZiAoaXNTdHJlYW1QYXlsb2FkKGFzeW5jUmVjb3JkKSAmJiAoKF9hID0gYXN5bmNSZWNvcmQuaXRlcmF0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXR1cm4pKSB7XG4gICAgICAgICAgICBhc3luY1JlY29yZC5pdGVyYXRvci5yZXR1cm4oKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBleGVDb250ZXh0LnN1YnNlcXVlbnRQYXlsb2Fkcy5kZWxldGUoYXN5bmNSZWNvcmQpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0Q29tcGxldGVkSW5jcmVtZW50YWxSZXN1bHRzKGV4ZUNvbnRleHQpIHtcbiAgICBjb25zdCBpbmNyZW1lbnRhbFJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGFzeW5jUGF5bG9hZFJlY29yZCBvZiBleGVDb250ZXh0LnN1YnNlcXVlbnRQYXlsb2Fkcykge1xuICAgICAgICBjb25zdCBpbmNyZW1lbnRhbFJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAoIWFzeW5jUGF5bG9hZFJlY29yZC5pc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhlQ29udGV4dC5zdWJzZXF1ZW50UGF5bG9hZHMuZGVsZXRlKGFzeW5jUGF5bG9hZFJlY29yZCk7XG4gICAgICAgIGlmIChpc1N0cmVhbVBheWxvYWQoYXN5bmNQYXlsb2FkUmVjb3JkKSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhc3luY1BheWxvYWRSZWNvcmQuaXRlbXM7XG4gICAgICAgICAgICBpZiAoYXN5bmNQYXlsb2FkUmVjb3JkLmlzQ29tcGxldGVkSXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3luYyBpdGVyYWJsZSByZXNvbHZlciBqdXN0IGZpbmlzaGVkIGJ1dCB0aGVyZSBtYXkgYmUgcGVuZGluZyBwYXlsb2Fkc1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5jcmVtZW50YWxSZXN1bHQuaXRlbXMgPSBpdGVtcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhc3luY1BheWxvYWRSZWNvcmQuZGF0YTtcbiAgICAgICAgICAgIGluY3JlbWVudGFsUmVzdWx0LmRhdGEgPSBkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHZvaWQgMCA/IGRhdGEgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGluY3JlbWVudGFsUmVzdWx0LnBhdGggPSBhc3luY1BheWxvYWRSZWNvcmQucGF0aDtcbiAgICAgICAgaWYgKGFzeW5jUGF5bG9hZFJlY29yZC5sYWJlbCkge1xuICAgICAgICAgICAgaW5jcmVtZW50YWxSZXN1bHQubGFiZWwgPSBhc3luY1BheWxvYWRSZWNvcmQubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFzeW5jUGF5bG9hZFJlY29yZC5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW5jcmVtZW50YWxSZXN1bHQuZXJyb3JzID0gYXN5bmNQYXlsb2FkUmVjb3JkLmVycm9ycztcbiAgICAgICAgfVxuICAgICAgICBpbmNyZW1lbnRhbFJlc3VsdHMucHVzaChpbmNyZW1lbnRhbFJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiBpbmNyZW1lbnRhbFJlc3VsdHM7XG59XG5mdW5jdGlvbiB5aWVsZFN1YnNlcXVlbnRQYXlsb2FkcyhleGVDb250ZXh0KSB7XG4gICAgbGV0IGlzRG9uZSA9IGZhbHNlO1xuICAgIGFzeW5jIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBQcm9taXNlLnJhY2UoQXJyYXkuZnJvbShleGVDb250ZXh0LnN1YnNlcXVlbnRQYXlsb2FkcykubWFwKHAgPT4gcC5wcm9taXNlKSk7XG4gICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICAgIC8vIGEgZGlmZmVyZW50IGNhbGwgdG8gbmV4dCBoYXMgZXhoYXVzdGVkIGFsbCBwYXlsb2Fkc1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluY3JlbWVudGFsID0gZ2V0Q29tcGxldGVkSW5jcmVtZW50YWxSZXN1bHRzKGV4ZUNvbnRleHQpO1xuICAgICAgICBjb25zdCBoYXNOZXh0ID0gZXhlQ29udGV4dC5zdWJzZXF1ZW50UGF5bG9hZHMuc2l6ZSA+IDA7XG4gICAgICAgIGlmICghaW5jcmVtZW50YWwubGVuZ3RoICYmIGhhc05leHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNOZXh0KSB7XG4gICAgICAgICAgICBpc0RvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogaW5jcmVtZW50YWwubGVuZ3RoID8geyBpbmNyZW1lbnRhbCwgaGFzTmV4dCB9IDogeyBoYXNOZXh0IH0sXG4gICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0dXJuU3RyZWFtSXRlcmF0b3JzKCkge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICBleGVDb250ZXh0LnN1YnNlcXVlbnRQYXlsb2Fkcy5mb3JFYWNoKGFzeW5jUGF5bG9hZFJlY29yZCA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoaXNTdHJlYW1QYXlsb2FkKGFzeW5jUGF5bG9hZFJlY29yZCkgJiYgKChfYSA9IGFzeW5jUGF5bG9hZFJlY29yZC5pdGVyYXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJldHVybikpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKGFzeW5jUGF5bG9hZFJlY29yZC5pdGVyYXRvci5yZXR1cm4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIG5leHQsXG4gICAgICAgIGFzeW5jIHJldHVybigpIHtcbiAgICAgICAgICAgIGF3YWl0IHJldHVyblN0cmVhbUl0ZXJhdG9ycygpO1xuICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdGhyb3coZXJyb3IpIHtcbiAgICAgICAgICAgIGF3YWl0IHJldHVyblN0cmVhbUl0ZXJhdG9ycygpO1xuICAgICAgICAgICAgaXNEb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmNsYXNzIERlZmVycmVkRnJhZ21lbnRSZWNvcmQge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2RlZmVyJztcbiAgICAgICAgdGhpcy5sYWJlbCA9IG9wdHMubGFiZWw7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGhUb0FycmF5KG9wdHMucGF0aCk7XG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dCA9IG9wdHMucGFyZW50Q29udGV4dDtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZXhlQ29udGV4dCA9IG9wdHMuZXhlQ29udGV4dDtcbiAgICAgICAgdGhpcy5fZXhlQ29udGV4dC5zdWJzZXF1ZW50UGF5bG9hZHMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLmlzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IE1heWJlUHJvbWlzZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShNYXliZVByb21pc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZERhdGEoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgY29uc3QgcGFyZW50RGF0YSA9IChfYSA9IHRoaXMucGFyZW50Q29udGV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb21pc2U7XG4gICAgICAgIGlmIChwYXJlbnREYXRhKSB7XG4gICAgICAgICAgICAoX2IgPSB0aGlzLl9yZXNvbHZlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbCh0aGlzLCBwYXJlbnREYXRhLnRoZW4oKCkgPT4gZGF0YSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIChfYyA9IHRoaXMuX3Jlc29sdmUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHRoaXMsIGRhdGEpO1xuICAgIH1cbn1cbmNsYXNzIFN0cmVhbVJlY29yZCB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICB0aGlzLnR5cGUgPSAnc3RyZWFtJztcbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMubGFiZWwgPSBvcHRzLmxhYmVsO1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoVG9BcnJheShvcHRzLnBhdGgpO1xuICAgICAgICB0aGlzLnBhcmVudENvbnRleHQgPSBvcHRzLnBhcmVudENvbnRleHQ7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBvcHRzLml0ZXJhdG9yO1xuICAgICAgICB0aGlzLmVycm9ycyA9IFtdO1xuICAgICAgICB0aGlzLl9leGVDb250ZXh0ID0gb3B0cy5leGVDb250ZXh0O1xuICAgICAgICB0aGlzLl9leGVDb250ZXh0LnN1YnNlcXVlbnRQYXlsb2Fkcy5hZGQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IE1heWJlUHJvbWlzZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShNYXliZVByb21pc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkudGhlbihpdGVtcyA9PiB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZEl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBwYXJlbnREYXRhID0gKF9hID0gdGhpcy5wYXJlbnRDb250ZXh0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJvbWlzZTtcbiAgICAgICAgaWYgKHBhcmVudERhdGEpIHtcbiAgICAgICAgICAgIChfYiA9IHRoaXMuX3Jlc29sdmUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRoaXMsIHBhcmVudERhdGEudGhlbigoKSA9PiBpdGVtcykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIChfYyA9IHRoaXMuX3Jlc29sdmUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHRoaXMsIGl0ZW1zKTtcbiAgICB9XG4gICAgc2V0SXNDb21wbGV0ZWRJdGVyYXRvcigpIHtcbiAgICAgICAgdGhpcy5pc0NvbXBsZXRlZEl0ZXJhdG9yID0gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1N0cmVhbVBheWxvYWQoYXN5bmNQYXlsb2FkKSB7XG4gICAgcmV0dXJuIGFzeW5jUGF5bG9hZC50eXBlID09PSAnc3RyZWFtJztcbn1cbi8qKlxuICogVGhpcyBtZXRob2QgbG9va3MgdXAgdGhlIGZpZWxkIG9uIHRoZSBnaXZlbiB0eXBlIGRlZmluaXRpb24uXG4gKiBJdCBoYXMgc3BlY2lhbCBjYXNpbmcgZm9yIHRoZSB0aHJlZSBpbnRyb3NwZWN0aW9uIGZpZWxkcyxcbiAqIF9fc2NoZW1hLCBfX3R5cGUgYW5kIF9fdHlwZW5hbWUuIF9fdHlwZW5hbWUgaXMgc3BlY2lhbCBiZWNhdXNlXG4gKiBpdCBjYW4gYWx3YXlzIGJlIHF1ZXJpZWQgYXMgYSBmaWVsZCwgZXZlbiBpbiBzaXR1YXRpb25zIHdoZXJlIG5vXG4gKiBvdGhlciBmaWVsZHMgYXJlIGFsbG93ZWQsIGxpa2Ugb24gYSBVbmlvbi4gX19zY2hlbWEgYW5kIF9fdHlwZVxuICogY291bGQgZ2V0IGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIHF1ZXJ5IHR5cGUsIGJ1dCB0aGF0IHdvdWxkXG4gKiByZXF1aXJlIG11dGF0aW5nIHR5cGUgZGVmaW5pdGlvbnMsIHdoaWNoIHdvdWxkIGNhdXNlIGlzc3Vlcy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkRGVmKHNjaGVtYSwgcGFyZW50VHlwZSwgZmllbGROb2RlKSB7XG4gICAgY29uc3QgZmllbGROYW1lID0gZmllbGROb2RlLm5hbWUudmFsdWU7XG4gICAgaWYgKGZpZWxkTmFtZSA9PT0gU2NoZW1hTWV0YUZpZWxkRGVmLm5hbWUgJiYgc2NoZW1hLmdldFF1ZXJ5VHlwZSgpID09PSBwYXJlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBTY2hlbWFNZXRhRmllbGREZWY7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpZWxkTmFtZSA9PT0gVHlwZU1ldGFGaWVsZERlZi5uYW1lICYmIHNjaGVtYS5nZXRRdWVyeVR5cGUoKSA9PT0gcGFyZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gVHlwZU1ldGFGaWVsZERlZjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmllbGROYW1lID09PSBUeXBlTmFtZU1ldGFGaWVsZERlZi5uYW1lKSB7XG4gICAgICAgIHJldHVybiBUeXBlTmFtZU1ldGFGaWVsZERlZjtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudFR5cGUuZ2V0RmllbGRzKClbZmllbGROYW1lXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luY3JlbWVudGFsUmVzdWx0KHJlc3VsdCkge1xuICAgIHJldHVybiAnaW5jcmVtZW50YWwnIGluIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/execute.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/flattenAsyncIterable.js":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/flattenAsyncIterable.js ***!
  \******************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   flattenAsyncIterable: () => (/* binding */ flattenAsyncIterable)\n/* harmony export */ });\n/**\n * Given an AsyncIterable of AsyncIterables, flatten all yielded results into a\n * single AsyncIterable.\n */\nfunction flattenAsyncIterable(iterable) {\n    // You might think this whole function could be replaced with\n    //\n    //    async function* flattenAsyncIterable(iterable) {\n    //      for await (const subIterator of iterable) {\n    //        yield* subIterator;\n    //      }\n    //    }\n    //\n    // but calling `.return()` on the iterator it returns won't interrupt the `for await`.\n    const topIterator = iterable[Symbol.asyncIterator]();\n    let currentNestedIterator;\n    let waitForCurrentNestedIterator;\n    let done = false;\n    async function next() {\n        if (done) {\n            return { value: undefined, done: true };\n        }\n        try {\n            if (!currentNestedIterator) {\n                // Somebody else is getting it already.\n                if (waitForCurrentNestedIterator) {\n                    await waitForCurrentNestedIterator;\n                    return await next();\n                }\n                // Nobody else is getting it. We should!\n                let resolve;\n                waitForCurrentNestedIterator = new Promise(r => {\n                    resolve = r;\n                });\n                const topIteratorResult = await topIterator.next();\n                if (topIteratorResult.done) {\n                    // Given that done only ever transitions from false to true,\n                    // require-atomic-updates is being unnecessarily cautious.\n                    done = true;\n                    return await next();\n                }\n                // eslint is making a reasonable point here, but we've explicitly protected\n                // ourself from the race condition by ensuring that only the single call\n                // that assigns to waitForCurrentNestedIterator is allowed to assign to\n                // currentNestedIterator or waitForCurrentNestedIterator.\n                currentNestedIterator = topIteratorResult.value[Symbol.asyncIterator]();\n                waitForCurrentNestedIterator = undefined;\n                resolve();\n                return await next();\n            }\n            const rememberCurrentNestedIterator = currentNestedIterator;\n            const nestedIteratorResult = await currentNestedIterator.next();\n            if (!nestedIteratorResult.done) {\n                return nestedIteratorResult;\n            }\n            // The nested iterator is done. If it's still the current one, make it not\n            // current. (If it's not the current one, somebody else has made us move on.)\n            if (currentNestedIterator === rememberCurrentNestedIterator) {\n                currentNestedIterator = undefined;\n            }\n            return await next();\n        }\n        catch (err) {\n            done = true;\n            throw err;\n        }\n    }\n    return {\n        next,\n        async return() {\n            var _a, _b;\n            done = true;\n            await Promise.all([(_a = currentNestedIterator === null || currentNestedIterator === void 0 ? void 0 : currentNestedIterator.return) === null || _a === void 0 ? void 0 : _a.call(currentNestedIterator), (_b = topIterator.return) === null || _b === void 0 ? void 0 : _b.call(topIterator)]);\n            return { value: undefined, done: true };\n        },\n        async throw(error) {\n            var _a, _b;\n            done = true;\n            await Promise.all([(_a = currentNestedIterator === null || currentNestedIterator === void 0 ? void 0 : currentNestedIterator.throw) === null || _a === void 0 ? void 0 : _a.call(currentNestedIterator, error), (_b = topIterator.throw) === null || _b === void 0 ? void 0 : _b.call(topIterator, error)]);\n            /* c8 ignore next */\n            throw error;\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi9mbGF0dGVuQXN5bmNJdGVyYWJsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9hZDE5L0RvY3VtZW50cy9hbnNhcm0tZmlsZS1zZXJ2ZXIvbm9kZV9tb2R1bGVzLy5wbnBtL0BncmFwaHFsLXRvb2xzK2V4ZWN1dG9yQDAuMC4xOF9ncmFwaHFsQDE2LjEwLjAvbm9kZV9tb2R1bGVzL0BncmFwaHFsLXRvb2xzL2V4ZWN1dG9yL2VzbS9leGVjdXRpb24vZmxhdHRlbkFzeW5jSXRlcmFibGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHaXZlbiBhbiBBc3luY0l0ZXJhYmxlIG9mIEFzeW5jSXRlcmFibGVzLCBmbGF0dGVuIGFsbCB5aWVsZGVkIHJlc3VsdHMgaW50byBhXG4gKiBzaW5nbGUgQXN5bmNJdGVyYWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5Bc3luY0l0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgLy8gWW91IG1pZ2h0IHRoaW5rIHRoaXMgd2hvbGUgZnVuY3Rpb24gY291bGQgYmUgcmVwbGFjZWQgd2l0aFxuICAgIC8vXG4gICAgLy8gICAgYXN5bmMgZnVuY3Rpb24qIGZsYXR0ZW5Bc3luY0l0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgLy8gICAgICBmb3IgYXdhaXQgKGNvbnN0IHN1Ykl0ZXJhdG9yIG9mIGl0ZXJhYmxlKSB7XG4gICAgLy8gICAgICAgIHlpZWxkKiBzdWJJdGVyYXRvcjtcbiAgICAvLyAgICAgIH1cbiAgICAvLyAgICB9XG4gICAgLy9cbiAgICAvLyBidXQgY2FsbGluZyBgLnJldHVybigpYCBvbiB0aGUgaXRlcmF0b3IgaXQgcmV0dXJucyB3b24ndCBpbnRlcnJ1cHQgdGhlIGBmb3IgYXdhaXRgLlxuICAgIGNvbnN0IHRvcEl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgbGV0IGN1cnJlbnROZXN0ZWRJdGVyYXRvcjtcbiAgICBsZXQgd2FpdEZvckN1cnJlbnROZXN0ZWRJdGVyYXRvcjtcbiAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgIGFzeW5jIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghY3VycmVudE5lc3RlZEl0ZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgLy8gU29tZWJvZHkgZWxzZSBpcyBnZXR0aW5nIGl0IGFscmVhZHkuXG4gICAgICAgICAgICAgICAgaWYgKHdhaXRGb3JDdXJyZW50TmVzdGVkSXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2FpdEZvckN1cnJlbnROZXN0ZWRJdGVyYXRvcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG5leHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTm9ib2R5IGVsc2UgaXMgZ2V0dGluZyBpdC4gV2Ugc2hvdWxkIVxuICAgICAgICAgICAgICAgIGxldCByZXNvbHZlO1xuICAgICAgICAgICAgICAgIHdhaXRGb3JDdXJyZW50TmVzdGVkSXRlcmF0b3IgPSBuZXcgUHJvbWlzZShyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9wSXRlcmF0b3JSZXN1bHQgPSBhd2FpdCB0b3BJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvcEl0ZXJhdG9yUmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2l2ZW4gdGhhdCBkb25lIG9ubHkgZXZlciB0cmFuc2l0aW9ucyBmcm9tIGZhbHNlIHRvIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUtYXRvbWljLXVwZGF0ZXMgaXMgYmVpbmcgdW5uZWNlc3NhcmlseSBjYXV0aW91cy5cbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBuZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludCBpcyBtYWtpbmcgYSByZWFzb25hYmxlIHBvaW50IGhlcmUsIGJ1dCB3ZSd2ZSBleHBsaWNpdGx5IHByb3RlY3RlZFxuICAgICAgICAgICAgICAgIC8vIG91cnNlbGYgZnJvbSB0aGUgcmFjZSBjb25kaXRpb24gYnkgZW5zdXJpbmcgdGhhdCBvbmx5IHRoZSBzaW5nbGUgY2FsbFxuICAgICAgICAgICAgICAgIC8vIHRoYXQgYXNzaWducyB0byB3YWl0Rm9yQ3VycmVudE5lc3RlZEl0ZXJhdG9yIGlzIGFsbG93ZWQgdG8gYXNzaWduIHRvXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudE5lc3RlZEl0ZXJhdG9yIG9yIHdhaXRGb3JDdXJyZW50TmVzdGVkSXRlcmF0b3IuXG4gICAgICAgICAgICAgICAgY3VycmVudE5lc3RlZEl0ZXJhdG9yID0gdG9wSXRlcmF0b3JSZXN1bHQudmFsdWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgd2FpdEZvckN1cnJlbnROZXN0ZWRJdGVyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlbWVtYmVyQ3VycmVudE5lc3RlZEl0ZXJhdG9yID0gY3VycmVudE5lc3RlZEl0ZXJhdG9yO1xuICAgICAgICAgICAgY29uc3QgbmVzdGVkSXRlcmF0b3JSZXN1bHQgPSBhd2FpdCBjdXJyZW50TmVzdGVkSXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKCFuZXN0ZWRJdGVyYXRvclJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5lc3RlZEl0ZXJhdG9yUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIG5lc3RlZCBpdGVyYXRvciBpcyBkb25lLiBJZiBpdCdzIHN0aWxsIHRoZSBjdXJyZW50IG9uZSwgbWFrZSBpdCBub3RcbiAgICAgICAgICAgIC8vIGN1cnJlbnQuIChJZiBpdCdzIG5vdCB0aGUgY3VycmVudCBvbmUsIHNvbWVib2R5IGVsc2UgaGFzIG1hZGUgdXMgbW92ZSBvbi4pXG4gICAgICAgICAgICBpZiAoY3VycmVudE5lc3RlZEl0ZXJhdG9yID09PSByZW1lbWJlckN1cnJlbnROZXN0ZWRJdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnROZXN0ZWRJdGVyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dCxcbiAgICAgICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoWyhfYSA9IGN1cnJlbnROZXN0ZWRJdGVyYXRvciA9PT0gbnVsbCB8fCBjdXJyZW50TmVzdGVkSXRlcmF0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnROZXN0ZWRJdGVyYXRvci5yZXR1cm4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGN1cnJlbnROZXN0ZWRJdGVyYXRvciksIChfYiA9IHRvcEl0ZXJhdG9yLnJldHVybikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwodG9wSXRlcmF0b3IpXSk7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHRocm93KGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbKF9hID0gY3VycmVudE5lc3RlZEl0ZXJhdG9yID09PSBudWxsIHx8IGN1cnJlbnROZXN0ZWRJdGVyYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudE5lc3RlZEl0ZXJhdG9yLnRocm93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChjdXJyZW50TmVzdGVkSXRlcmF0b3IsIGVycm9yKSwgKF9iID0gdG9wSXRlcmF0b3IudGhyb3cpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRvcEl0ZXJhdG9yLCBlcnJvcildKTtcbiAgICAgICAgICAgIC8qIGM4IGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/flattenAsyncIterable.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/invariant.js":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/invariant.js ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invariant: () => (/* binding */ invariant)\n/* harmony export */ });\nfunction invariant(condition, message) {\n    if (!condition) {\n        throw new Error(message != null ? message : 'Unexpected invariant triggered.');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi9pbnZhcmlhbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2FkMTkvRG9jdW1lbnRzL2Fuc2FybS1maWxlLXNlcnZlci9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi9pbnZhcmlhbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSAhPSBudWxsID8gbWVzc2FnZSA6ICdVbmV4cGVjdGVkIGludmFyaWFudCB0cmlnZ2VyZWQuJyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/invariant.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/normalizedExecutor.js":
/*!****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/normalizedExecutor.js ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalizedExecutor: () => (/* binding */ normalizedExecutor)\n/* harmony export */ });\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/utilities/getOperationAST.mjs\");\n/* harmony import */ var _execute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./execute.js */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/execute.js\");\n/* harmony import */ var value_or_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! value-or-promise */ \"(rsc)/./node_modules/.pnpm/value-or-promise@1.0.12/node_modules/value-or-promise/build/module/index.js\");\n\n\n\nfunction normalizedExecutor(args) {\n    const operationAST = (0,graphql__WEBPACK_IMPORTED_MODULE_1__.getOperationAST)(args.document, args.operationName);\n    if (operationAST == null) {\n        throw new Error('Must provide an operation.');\n    }\n    if (operationAST.operation === 'subscription') {\n        return (0,_execute_js__WEBPACK_IMPORTED_MODULE_2__.subscribe)(args);\n    }\n    return new value_or_promise__WEBPACK_IMPORTED_MODULE_0__.ValueOrPromise(() => (0,_execute_js__WEBPACK_IMPORTED_MODULE_2__.execute)(args))\n        .then((result) => {\n        if ('initialResult' in result) {\n            return (0,_execute_js__WEBPACK_IMPORTED_MODULE_2__.flattenIncrementalResults)(result);\n        }\n        return result;\n    })\n        .resolve();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi9ub3JtYWxpemVkRXhlY3V0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQztBQUNtQztBQUMzQjtBQUMzQztBQUNQLHlCQUF5Qix3REFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0RBQVM7QUFDeEI7QUFDQSxlQUFlLDREQUFjLE9BQU8sb0RBQU87QUFDM0M7QUFDQTtBQUNBLG1CQUFtQixzRUFBeUI7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9hZDE5L0RvY3VtZW50cy9hbnNhcm0tZmlsZS1zZXJ2ZXIvbm9kZV9tb2R1bGVzLy5wbnBtL0BncmFwaHFsLXRvb2xzK2V4ZWN1dG9yQDAuMC4xOF9ncmFwaHFsQDE2LjEwLjAvbm9kZV9tb2R1bGVzL0BncmFwaHFsLXRvb2xzL2V4ZWN1dG9yL2VzbS9leGVjdXRpb24vbm9ybWFsaXplZEV4ZWN1dG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldE9wZXJhdGlvbkFTVCB9IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgZXhlY3V0ZSwgZmxhdHRlbkluY3JlbWVudGFsUmVzdWx0cywgc3Vic2NyaWJlIH0gZnJvbSAnLi9leGVjdXRlLmpzJztcbmltcG9ydCB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAndmFsdWUtb3ItcHJvbWlzZSc7XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplZEV4ZWN1dG9yKGFyZ3MpIHtcbiAgICBjb25zdCBvcGVyYXRpb25BU1QgPSBnZXRPcGVyYXRpb25BU1QoYXJncy5kb2N1bWVudCwgYXJncy5vcGVyYXRpb25OYW1lKTtcbiAgICBpZiAob3BlcmF0aW9uQVNUID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgYW4gb3BlcmF0aW9uLicpO1xuICAgIH1cbiAgICBpZiAob3BlcmF0aW9uQVNULm9wZXJhdGlvbiA9PT0gJ3N1YnNjcmlwdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZShhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWYWx1ZU9yUHJvbWlzZSgoKSA9PiBleGVjdXRlKGFyZ3MpKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmICgnaW5pdGlhbFJlc3VsdCcgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmxhdHRlbkluY3JlbWVudGFsUmVzdWx0cyhyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSlcbiAgICAgICAgLnJlc29sdmUoKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/normalizedExecutor.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/promiseForObject.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/promiseForObject.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   promiseForObject: () => (/* binding */ promiseForObject)\n/* harmony export */ });\n/**\n * This function transforms a JS object `Record<string, Promise<T>>` into\n * a `Promise<Record<string, T>>`\n *\n * This is akin to bluebird's `Promise.props`, but implemented only using\n * `Promise.all` so it will work with any implementation of ES6 promises.\n */\nasync function promiseForObject(object) {\n    const keys = Object.keys(object);\n    const values = Object.values(object);\n    const resolvedValues = await Promise.all(values);\n    const resolvedObject = Object.create(null);\n    for (let i = 0; i < keys.length; ++i) {\n        resolvedObject[keys[i]] = resolvedValues[i];\n    }\n    return resolvedObject;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi9wcm9taXNlRm9yT2JqZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9hZDE5L0RvY3VtZW50cy9hbnNhcm0tZmlsZS1zZXJ2ZXIvbm9kZV9tb2R1bGVzLy5wbnBtL0BncmFwaHFsLXRvb2xzK2V4ZWN1dG9yQDAuMC4xOF9ncmFwaHFsQDE2LjEwLjAvbm9kZV9tb2R1bGVzL0BncmFwaHFsLXRvb2xzL2V4ZWN1dG9yL2VzbS9leGVjdXRpb24vcHJvbWlzZUZvck9iamVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgZnVuY3Rpb24gdHJhbnNmb3JtcyBhIEpTIG9iamVjdCBgUmVjb3JkPHN0cmluZywgUHJvbWlzZTxUPj5gIGludG9cbiAqIGEgYFByb21pc2U8UmVjb3JkPHN0cmluZywgVD4+YFxuICpcbiAqIFRoaXMgaXMgYWtpbiB0byBibHVlYmlyZCdzIGBQcm9taXNlLnByb3BzYCwgYnV0IGltcGxlbWVudGVkIG9ubHkgdXNpbmdcbiAqIGBQcm9taXNlLmFsbGAgc28gaXQgd2lsbCB3b3JrIHdpdGggYW55IGltcGxlbWVudGF0aW9uIG9mIEVTNiBwcm9taXNlcy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb21pc2VGb3JPYmplY3Qob2JqZWN0KSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhvYmplY3QpO1xuICAgIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gYXdhaXQgUHJvbWlzZS5hbGwodmFsdWVzKTtcbiAgICBjb25zdCByZXNvbHZlZE9iamVjdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc29sdmVkT2JqZWN0W2tleXNbaV1dID0gcmVzb2x2ZWRWYWx1ZXNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXNvbHZlZE9iamVjdDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/promiseForObject.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/values.js":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/values.js ***!
  \****************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVariableValues: () => (/* binding */ getVariableValues)\n/* harmony export */ });\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/utilities/typeFromAST.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/type/definition.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/language/printer.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/utilities/valueFromAST.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/utilities/coerceInputValue.mjs\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/errors.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/jsutils.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/inspect.js\");\n/* harmony import */ var _graphql_tools_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @graphql-tools/utils */ \"(rsc)/./node_modules/.pnpm/@graphql-tools+utils@9.2.1_graphql@16.10.0/node_modules/@graphql-tools/utils/esm/Path.js\");\n\n\n/**\n * Prepares an object map of variableValues of the correct type based on the\n * provided variable definitions and arbitrary input. If the input cannot be\n * parsed to match the variable definitions, a GraphQLError will be thrown.\n *\n * Note: The returned value is a plain Object with a prototype, since it is\n * exposed to user code. Care should be taken to not pull values from the\n * Object prototype.\n */\nfunction getVariableValues(schema, varDefNodes, inputs, options) {\n    const errors = [];\n    const maxErrors = options === null || options === void 0 ? void 0 : options.maxErrors;\n    try {\n        const coerced = coerceVariableValues(schema, varDefNodes, inputs, error => {\n            if (maxErrors != null && errors.length >= maxErrors) {\n                throw (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_0__.createGraphQLError)('Too many errors processing variables, error limit reached. Execution aborted.');\n            }\n            errors.push(error);\n        });\n        if (errors.length === 0) {\n            return { coerced };\n        }\n    }\n    catch (error) {\n        errors.push(error);\n    }\n    // @ts-expect-error - We know that errors is an array of GraphQLError.\n    return { errors };\n}\nfunction coerceVariableValues(schema, varDefNodes, inputs, onError) {\n    const coercedValues = {};\n    for (const varDefNode of varDefNodes) {\n        const varName = varDefNode.variable.name.value;\n        const varType = (0,graphql__WEBPACK_IMPORTED_MODULE_1__.typeFromAST)(schema, varDefNode.type);\n        if (!(0,graphql__WEBPACK_IMPORTED_MODULE_2__.isInputType)(varType)) {\n            // Must use input types for variables. This should be caught during\n            // validation, however is checked again here for safety.\n            const varTypeStr = (0,graphql__WEBPACK_IMPORTED_MODULE_3__.print)(varDefNode.type);\n            onError((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_0__.createGraphQLError)(`Variable \"$${varName}\" expected value of type \"${varTypeStr}\" which cannot be used as an input type.`, { nodes: varDefNode.type }));\n            continue;\n        }\n        if (!(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_4__.hasOwnProperty)(inputs, varName)) {\n            if (varDefNode.defaultValue) {\n                coercedValues[varName] = (0,graphql__WEBPACK_IMPORTED_MODULE_5__.valueFromAST)(varDefNode.defaultValue, varType);\n            }\n            else if ((0,graphql__WEBPACK_IMPORTED_MODULE_2__.isNonNullType)(varType)) {\n                const varTypeStr = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.inspect)(varType);\n                onError((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_0__.createGraphQLError)(`Variable \"$${varName}\" of required type \"${varTypeStr}\" was not provided.`, {\n                    nodes: varDefNode,\n                }));\n            }\n            continue;\n        }\n        const value = inputs[varName];\n        if (value === null && (0,graphql__WEBPACK_IMPORTED_MODULE_2__.isNonNullType)(varType)) {\n            const varTypeStr = (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.inspect)(varType);\n            onError((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_0__.createGraphQLError)(`Variable \"$${varName}\" of non-null type \"${varTypeStr}\" must not be null.`, {\n                nodes: varDefNode,\n            }));\n            continue;\n        }\n        coercedValues[varName] = (0,graphql__WEBPACK_IMPORTED_MODULE_7__.coerceInputValue)(value, varType, (path, invalidValue, error) => {\n            let prefix = `Variable \"$${varName}\" got invalid value ` + (0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_6__.inspect)(invalidValue);\n            if (path.length > 0) {\n                prefix += ` at \"${varName}${(0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_8__.printPathArray)(path)}\"`;\n            }\n            onError((0,_graphql_tools_utils__WEBPACK_IMPORTED_MODULE_0__.createGraphQLError)(prefix + '; ' + error.message, {\n                nodes: varDefNode,\n                originalError: error.originalError,\n            }));\n        });\n    }\n    return coercedValues;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi92YWx1ZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEwRztBQUNQO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3RUFBa0I7QUFDeEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvREFBVztBQUNuQyxhQUFhLG9EQUFXO0FBQ3hCO0FBQ0E7QUFDQSwrQkFBK0IsOENBQUs7QUFDcEMsb0JBQW9CLHdFQUFrQixlQUFlLFFBQVEsNEJBQTRCLFdBQVcsNkNBQTZDLHdCQUF3QjtBQUN6SztBQUNBO0FBQ0EsYUFBYSxvRUFBYztBQUMzQjtBQUNBLHlDQUF5QyxxREFBWTtBQUNyRDtBQUNBLHFCQUFxQixzREFBYTtBQUNsQyxtQ0FBbUMsNkRBQU87QUFDMUMsd0JBQXdCLHdFQUFrQixlQUFlLFFBQVEsc0JBQXNCLFdBQVc7QUFDbEc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQWE7QUFDM0MsK0JBQStCLDZEQUFPO0FBQ3RDLG9CQUFvQix3RUFBa0IsZUFBZSxRQUFRLHNCQUFzQixXQUFXO0FBQzlGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxpQ0FBaUMseURBQWdCO0FBQ2pELHVDQUF1QyxRQUFRLHdCQUF3Qiw2REFBTztBQUM5RTtBQUNBLGtDQUFrQyxRQUFRLEVBQUUsb0VBQWMsT0FBTztBQUNqRTtBQUNBLG9CQUFvQix3RUFBa0IsYUFBYTtBQUNuRDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2FkMTkvRG9jdW1lbnRzL2Fuc2FybS1maWxlLXNlcnZlci9ub2RlX21vZHVsZXMvLnBucG0vQGdyYXBocWwtdG9vbHMrZXhlY3V0b3JAMC4wLjE4X2dyYXBocWxAMTYuMTAuMC9ub2RlX21vZHVsZXMvQGdyYXBocWwtdG9vbHMvZXhlY3V0b3IvZXNtL2V4ZWN1dGlvbi92YWx1ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpbnQsIGlzSW5wdXRUeXBlLCBpc05vbk51bGxUeXBlLCBjb2VyY2VJbnB1dFZhbHVlLCB0eXBlRnJvbUFTVCwgdmFsdWVGcm9tQVNULCB9IGZyb20gJ2dyYXBocWwnO1xuaW1wb3J0IHsgY3JlYXRlR3JhcGhRTEVycm9yLCBoYXNPd25Qcm9wZXJ0eSwgaW5zcGVjdCwgcHJpbnRQYXRoQXJyYXkgfSBmcm9tICdAZ3JhcGhxbC10b29scy91dGlscyc7XG4vKipcbiAqIFByZXBhcmVzIGFuIG9iamVjdCBtYXAgb2YgdmFyaWFibGVWYWx1ZXMgb2YgdGhlIGNvcnJlY3QgdHlwZSBiYXNlZCBvbiB0aGVcbiAqIHByb3ZpZGVkIHZhcmlhYmxlIGRlZmluaXRpb25zIGFuZCBhcmJpdHJhcnkgaW5wdXQuIElmIHRoZSBpbnB1dCBjYW5ub3QgYmVcbiAqIHBhcnNlZCB0byBtYXRjaCB0aGUgdmFyaWFibGUgZGVmaW5pdGlvbnMsIGEgR3JhcGhRTEVycm9yIHdpbGwgYmUgdGhyb3duLlxuICpcbiAqIE5vdGU6IFRoZSByZXR1cm5lZCB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCB3aXRoIGEgcHJvdG90eXBlLCBzaW5jZSBpdCBpc1xuICogZXhwb3NlZCB0byB1c2VyIGNvZGUuIENhcmUgc2hvdWxkIGJlIHRha2VuIHRvIG5vdCBwdWxsIHZhbHVlcyBmcm9tIHRoZVxuICogT2JqZWN0IHByb3RvdHlwZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZhcmlhYmxlVmFsdWVzKHNjaGVtYSwgdmFyRGVmTm9kZXMsIGlucHV0cywgb3B0aW9ucykge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IG1heEVycm9ycyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tYXhFcnJvcnM7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29lcmNlZCA9IGNvZXJjZVZhcmlhYmxlVmFsdWVzKHNjaGVtYSwgdmFyRGVmTm9kZXMsIGlucHV0cywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgaWYgKG1heEVycm9ycyAhPSBudWxsICYmIGVycm9ycy5sZW5ndGggPj0gbWF4RXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlR3JhcGhRTEVycm9yKCdUb28gbWFueSBlcnJvcnMgcHJvY2Vzc2luZyB2YXJpYWJsZXMsIGVycm9yIGxpbWl0IHJlYWNoZWQuIEV4ZWN1dGlvbiBhYm9ydGVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7IGNvZXJjZWQgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgIH1cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gV2Uga25vdyB0aGF0IGVycm9ycyBpcyBhbiBhcnJheSBvZiBHcmFwaFFMRXJyb3IuXG4gICAgcmV0dXJuIHsgZXJyb3JzIH07XG59XG5mdW5jdGlvbiBjb2VyY2VWYXJpYWJsZVZhbHVlcyhzY2hlbWEsIHZhckRlZk5vZGVzLCBpbnB1dHMsIG9uRXJyb3IpIHtcbiAgICBjb25zdCBjb2VyY2VkVmFsdWVzID0ge307XG4gICAgZm9yIChjb25zdCB2YXJEZWZOb2RlIG9mIHZhckRlZk5vZGVzKSB7XG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB2YXJEZWZOb2RlLnZhcmlhYmxlLm5hbWUudmFsdWU7XG4gICAgICAgIGNvbnN0IHZhclR5cGUgPSB0eXBlRnJvbUFTVChzY2hlbWEsIHZhckRlZk5vZGUudHlwZSk7XG4gICAgICAgIGlmICghaXNJbnB1dFR5cGUodmFyVHlwZSkpIHtcbiAgICAgICAgICAgIC8vIE11c3QgdXNlIGlucHV0IHR5cGVzIGZvciB2YXJpYWJsZXMuIFRoaXMgc2hvdWxkIGJlIGNhdWdodCBkdXJpbmdcbiAgICAgICAgICAgIC8vIHZhbGlkYXRpb24sIGhvd2V2ZXIgaXMgY2hlY2tlZCBhZ2FpbiBoZXJlIGZvciBzYWZldHkuXG4gICAgICAgICAgICBjb25zdCB2YXJUeXBlU3RyID0gcHJpbnQodmFyRGVmTm9kZS50eXBlKTtcbiAgICAgICAgICAgIG9uRXJyb3IoY3JlYXRlR3JhcGhRTEVycm9yKGBWYXJpYWJsZSBcIiQke3Zhck5hbWV9XCIgZXhwZWN0ZWQgdmFsdWUgb2YgdHlwZSBcIiR7dmFyVHlwZVN0cn1cIiB3aGljaCBjYW5ub3QgYmUgdXNlZCBhcyBhbiBpbnB1dCB0eXBlLmAsIHsgbm9kZXM6IHZhckRlZk5vZGUudHlwZSB9KSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5KGlucHV0cywgdmFyTmFtZSkpIHtcbiAgICAgICAgICAgIGlmICh2YXJEZWZOb2RlLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvZXJjZWRWYWx1ZXNbdmFyTmFtZV0gPSB2YWx1ZUZyb21BU1QodmFyRGVmTm9kZS5kZWZhdWx0VmFsdWUsIHZhclR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNOb25OdWxsVHlwZSh2YXJUeXBlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhclR5cGVTdHIgPSBpbnNwZWN0KHZhclR5cGUpO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoY3JlYXRlR3JhcGhRTEVycm9yKGBWYXJpYWJsZSBcIiQke3Zhck5hbWV9XCIgb2YgcmVxdWlyZWQgdHlwZSBcIiR7dmFyVHlwZVN0cn1cIiB3YXMgbm90IHByb3ZpZGVkLmAsIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXM6IHZhckRlZk5vZGUsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dHNbdmFyTmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCAmJiBpc05vbk51bGxUeXBlKHZhclR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJUeXBlU3RyID0gaW5zcGVjdCh2YXJUeXBlKTtcbiAgICAgICAgICAgIG9uRXJyb3IoY3JlYXRlR3JhcGhRTEVycm9yKGBWYXJpYWJsZSBcIiQke3Zhck5hbWV9XCIgb2Ygbm9uLW51bGwgdHlwZSBcIiR7dmFyVHlwZVN0cn1cIiBtdXN0IG5vdCBiZSBudWxsLmAsIHtcbiAgICAgICAgICAgICAgICBub2RlczogdmFyRGVmTm9kZSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvZXJjZWRWYWx1ZXNbdmFyTmFtZV0gPSBjb2VyY2VJbnB1dFZhbHVlKHZhbHVlLCB2YXJUeXBlLCAocGF0aCwgaW52YWxpZFZhbHVlLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgbGV0IHByZWZpeCA9IGBWYXJpYWJsZSBcIiQke3Zhck5hbWV9XCIgZ290IGludmFsaWQgdmFsdWUgYCArIGluc3BlY3QoaW52YWxpZFZhbHVlKTtcbiAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwcmVmaXggKz0gYCBhdCBcIiR7dmFyTmFtZX0ke3ByaW50UGF0aEFycmF5KHBhdGgpfVwiYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uRXJyb3IoY3JlYXRlR3JhcGhRTEVycm9yKHByZWZpeCArICc7ICcgKyBlcnJvci5tZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgbm9kZXM6IHZhckRlZk5vZGUsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvcjogZXJyb3Iub3JpZ2luYWxFcnJvcixcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjb2VyY2VkVmFsdWVzO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@graphql-tools+executor@0.0.18_graphql@16.10.0/node_modules/@graphql-tools/executor/esm/execution/values.js\n");

/***/ })

};
;